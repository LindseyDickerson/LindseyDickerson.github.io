(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{"2fNq":function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),i=(a("91GP"),a("PJYZ")),o=a.n(i),s=a("VbXa"),l=a.n(s),c=a("lSNA"),_=a.n(c),d=a("q1tI"),u=a.n(d),p=a("xLLm"),m=a("DpuJ"),I=(a("17x9"),a("RvyH")),g=a.n(I),T=a("Epja"),f=a.n(T),h="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/IFrame/index.js",v=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,_()(o()(t),"_handleMessage",(function(e){var a=t.props,n=a.onMessage,r=a.forwardedRef,i=a.reportError;if(n&&("string"!=typeof e.data||0!==e.data.indexOf("setImmediate$"))){if(e.origin!==window.location.protocol+"//"+window.location.host)return i?i("Invalid cross-origin postMessage from "+e.origin):null;var o;if(r&&r.current&&r.current.contentWindow&&r.current.contentWindow===e.source)if(e.stopImmediatePropagation(),"string"==typeof e.data&&"undefined"!==e.data){try{o=JSON.parse(e.data)}catch(s){return void(i&&i("Invalid postMessage data from "+e.origin+": "+e.data))}n(o)}}})),t}l()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e;this.props.onMessage&&(e=this._handleMessage,p.canUseDOM&&window.addEventListener("message",e,!1))},a.componentWillUnmount=function(){var e;this.props.onMessage&&(e=this._handleMessage,p.canUseDOM&&window.removeEventListener("message",e,!1))},a.render=function(){var e=this.props,t=e.allowForms,a=e.dangerouslyDisableSandbox,n=e.src,r=e.style,i=e.title,o=g()("iframe",Object.assign({allow:"autoplay",allowFullScreen:!0,ref:this.props.forwardedRef,src:n,style:E.iframe,title:i},a?null:{sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"+(t?" allow-forms":"")}));return u.a.createElement(f.a,{style:[E.root,r],__source:{fileName:h,lineNumber:107},__self:this},o)},t}(u.a.Component);v.propTypes={};var E=m.a.create((function(e){return{root:{overflow:"auto",WebkitOverflowScrolling:"touch"},iframe:{borderWidth:0,flexGrow:1}}}));t.a=u.a.forwardRef((function(e,t){return u.a.createElement(v,r()({forwardedRef:t},e,{__source:{fileName:h,lineNumber:122},__self:this}))}))},CyHz:function(e,t,a){var n=a("XKFU");n(n.S,"Math",{sign:a("lvtm")})},OluO:function(e,t,a){"use strict";var n=a("PJYZ"),r=a.n(n),i=a("VbXa"),o=a.n(i),s=a("lSNA"),l=a.n(s),c=a("q1tI"),_=a.n(c),d=a("o/GY"),u=a("1PD0"),p=a("YryT"),m=a.n(p),I=a("O/8y"),g=a.n(I),T=a("nb84"),f=a.n(T),h=a("ieUs"),v=a("ytnK"),E=a("/A0O"),y=a("DpuJ"),b=(a("91GP"),a("CyHz"),a("JcjE")),N=a("82G3"),A=a("2NuI"),S=a.n(A),O=a("i8i4"),C=a.n(O),D=a("AzFT"),w=a.n(D),M=a("Epja"),L=a.n(M),R=a("+ss/"),x=a("0wEy"),P="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/Swipeable/index.js",k=.6,j=10,B=37,Y=39,G={stiffness:267,damping:20},U=1,W=function(e){function t(t,a){var n;n=e.call(this,t,a)||this,l()(r()(n),"_handleKeyPress",(function(e){n.props.locked||(e.keyCode===Y?n._handleKeyRight(e):e.keyCode===B&&n._handleKeyLeft(e))})),l()(r()(n),"_handleKeyRight",(function(e){e&&e.stopPropagation(),n._goToItem(n.state.currentItem+(w.a.isRTL?-1:1))})),l()(r()(n),"_handleKeyLeft",(function(e){e&&e.stopPropagation(),n._goToItem(n.state.currentItem-(w.a.isRTL?-1:1))})),l()(r()(n),"_handleTouchStart",(function(e){if(!(e.touches&&e.touches.length>1)){var t=e.changedTouches[0].clientX;n._handleSwipeStart(e,t)}})),l()(r()(n),"_handleTouchMove",(function(e){if(!(e.touches&&e.touches.length>1)){e.preventDefault();var t=e.changedTouches[0].clientX;n._handleSwipeMove(e,t)}})),l()(r()(n),"_handleTouchEnd",(function(e){var t=e.changedTouches[0].clientX;n._handleSwipeEnd(e,t)})),l()(r()(n),"_handleSwipeStart",(function(e,t){n.props.locked||(e.preventDefault(),e.stopPropagation(),n._xPos=t,n._swipeStart=Date.now(),n._isSwiping=!1)})),l()(r()(n),"_handleSwipeMove",(function(e,t){if(!n.props.locked&&null!=n._xPos){var a=n._xPos-t;Math.abs(a)<j||(n.setState((function(e){if("number"==typeof e.itemWidth)return{transformLeft:(w.a.isRTL?1:-1)*e.itemWidth*e.currentItem-a}})),n._isSwiping=!0)}})),l()(r()(n),"_handleSwipeEnd",(function(e,t){var a=n.state,r=a.currentItem,i=a.itemWidth;if(!n._isSwiping||"number"!=typeof n._xPos||"number"!=typeof i||"number"!=typeof n._swipeStart)return n._isSwiping=!1,void(n._xPos=null);e.stopPropagation(),e.preventDefault();var o=(n._xPos||0)-t,s=Math.abs(o),l=s/(Date.now()-(n._swipeStart||0));s>i/3||l>k?n._goToItem(r+(w.a.isRTL?-1:1)*Math.sign(o)):n._goToItem(r),n._isSwiping=!1,n._xPos=null})),l()(r()(n),"_transitionComplete",(function(){n.props.onChange(n.state.currentItem)})),l()(r()(n),"_setDimensions",(function(){var e=n.props,t=e.itemWidth,a=e.itemsToShow,r=!t&&a?n._getFrameOffsetWidth()/a:t,i=t?n._getFrameOffsetWidth()/t:a||U;"number"==typeof r&&n.setState({itemWidth:r,itemsToShow:i},(function(){n.setState((function(e){return{areDimensionsSet:!0,transformLeft:n._getLeftForItem(e.currentItem,r)}}))}))})),l()(r()(n),"_setSwipeableNode",(function(e){n._swipeableNode=C.a.findDOMNode(e)}));var i=n.props,o=i.itemsToShow,s=i.itemWidth;return n._checkComponentPropsUsageCorrectness(o,s),n.state=Object.assign({areDimensionsSet:!1,currentItem:t.currentItem,transformLeft:0},s?{itemsToShow:0,itemWidth:s}:{itemWidth:0,itemsToShow:o||U}),n._springOptions=Object(v.a)()?G:x.presets.noWobble,n._isSwiping=!1,n._xPos=null,n}o()(t,e);var a=t.prototype;return a.componentDidMount=function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions),window.document.addEventListener("keydown",this._handleKeyPress),this._swipeableNode&&(this._removeTouchListener=Object(N.a)(this._swipeableNode,this._handleTouchMove,!1))},a.componentWillUnmount=function(){window.removeEventListener("resize",this._setDimensions),window.document.removeEventListener("keydown",this._handleKeyPress),this._removeTouchListener&&this._removeTouchListener()},a.UNSAFE_componentWillReceiveProps=function(e){e.currentItem!==this.props.currentItem&&e.currentItem!==this.state.currentItem&&this._goToItem(e.currentItem,!0)},a.componentDidUpdate=function(e){var t=this.props,a=t.itemsToShow,n=t.itemWidth;this._checkComponentPropsUsageCorrectness(a,n)},a.render=function(){var e=this.props,t=e.children,a=e.cellSpacing,n=_.a.Children.count(t),r=a*n,i=this.state,o=i.transformLeft,s=i.itemWidth,l={transformLeft:b.a.reducedMotionEnabled&&!this._isSwiping?o:Object(x.spring)(o,this._springOptions)},c=this._renderItems(t);return _.a.createElement(L.a,{onTouchEnd:this._handleTouchEnd,onTouchStart:this._handleTouchStart,ref:this._setSwipeableNode,style:V.root,__source:{fileName:P,lineNumber:122},__self:this},this.state.areDimensionsSet?_.a.createElement(x.Motion,{style:l,__source:{fileName:P,lineNumber:129},__self:this},(function(e){var t=e.transformLeft;return _.a.createElement(L.a,{accessibilityRole:"list",style:[V.list,{marginLeft:-.5*a,marginRight:-.5*a,transform:[{translate3d:t+"px, 0, 0"}],width:s&&n?s*n+r+"px":"100%"}],__source:{fileName:P,lineNumber:131},__self:this},c)})):null)},a._renderItems=function(e){var t=this.props.cellSpacing,a=this.state,n=a.currentItem,r=a.itemWidth,i=a.itemsToShow,o=n+2*Math.ceil(i);return _.a.Children.toArray(_.a.Children.map(e,(function(e,a){return _.a.createElement(L.a,{accessibilityRole:"listitem",style:[V.item,{width:r?r+"px":"100%",marginLeft:t/2+"px",marginRight:t/2+"px"}],__source:{fileName:P,lineNumber:163},__self:this},a<=n||a<o?e:null)})))},a._goToItem=function(e,t){var a=this.state,n=a.currentItem,r=a.itemWidth,i=this.props.children,o=e;(e<0||e>=_.a.Children.count(i))&&(o=n),"number"==typeof r&&this.setState({currentItem:o,transformLeft:this._getLeftForItem(o,r)},n===o||t?E.a:this._transitionComplete)},a._getLeftForItem=function(e,t){return(t*e+this.props.cellSpacing*e)*(w.a.isRTL?1:-1)},a._getFrameOffsetWidth=function(){var e=this._swipeableNode;return e&&e instanceof window.HTMLElement?e.offsetWidth:0},a._checkComponentPropsUsageCorrectness=function(e,t){var a=!e&&Object(R.a)(t),n=!t&&Object(R.a)(e),r=!t&&!e;S()(a||n||r,"Requires itemsToShow OR itemWidth, both cannot be set")},a.getItemsToShow=function(){return this.state.itemsToShow},a.goToNextItem=function(){this._goToItem(this.state.currentItem+Math.max(Math.floor(this.state.itemsToShow),1))},a.goToPreviousItem=function(){var e=this.state.currentItem-Math.max(Math.floor(this.state.itemsToShow),1);this._goToItem(e>=0?e:0)},t}(_.a.PureComponent);l()(W,"defaultProps",{cellSpacing:0,currentItem:0,locked:!1,onChange:E.a});var V=y.a.create((function(e){return{root:{flexGrow:1,transform:[{translate3d:"0,0,0"}]},list:{height:"100%",padding:"0",position:"absolute",transform:[{translate3d:"0,0,0"}],display:"flex",flexDirection:"row"},item:{boxSizing:"border-box",display:"inline-flex",flexDirection:"column",height:"100%",marginVertical:"auto"}}}));a("17x9");a.d(t,"a",(function(){return q}));var z="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/Carousel/index.js",F=m.a.e6580b36,H=m.a.g4c9627f,q=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,l()(r()(t),"_swipeableRef",_.a.createRef()),l()(r()(t),"_handleNextSlide",(function(e){e.stopPropagation(),t._swipeableRef.current&&t._swipeableRef.current.goToNextItem()})),l()(r()(t),"_handlePreviousSlide",(function(e){e.stopPropagation(),t._swipeableRef.current&&t._swipeableRef.current.goToPreviousItem()})),t}o()(t,e);var a=t.prototype;return a.render=function(){var e=this,t=this.props,a=t.children,n=t.cellSpacing,r=t.currentSlide,i=t.locked,o=t.onChange,s=t.childWidth,l=t.slidesToShow;return _.a.createElement(h.a,{__source:{fileName:z,lineNumber:58},__self:this},(function(t){var c=t.isHovered;return _.a.createElement(L.a,{style:K.root,__source:{fileName:z,lineNumber:60},__self:this},_.a.createElement(W,{cellSpacing:n,children:a,currentItem:r,itemWidth:l?void 0:s,itemsToShow:s?void 0:l||1,locked:i,onChange:o,ref:e._swipeableRef,__source:{fileName:z,lineNumber:61},__self:this}),!Object(v.a)()||u.a.isEnabled?e._renderNavButtons(c):null)}))},a._renderNavButtons=function(e){var t=this.props,a=t.currentSlide,n=t.dominantColor,r=t.showNavButtonsOnHover,i=_.a.Children.count(this.props.children),o=0===a,s=a+this._getSlidesToShow()>=i;return _.a.createElement(L.a,{pointerEvents:"box-none",style:[K.navButtons,r&&!e&&K.navButtonsHidden],__source:{fileName:z,lineNumber:85},__self:this},_.a.createElement(d.a,{accessibilityLabel:H,disabled:o,dominantColor:n,icon:_.a.createElement(g.a,{__source:{fileName:z,lineNumber:93},__self:this}),onPress:this._handlePreviousSlide,style:[K.navButton,K.navButtonLeft],type:"onMedia",__source:{fileName:z,lineNumber:89},__self:this}),_.a.createElement(d.a,{accessibilityLabel:F,disabled:s,dominantColor:n,icon:_.a.createElement(f.a,{__source:{fileName:z,lineNumber:102},__self:this}),onPress:this._handleNextSlide,style:[K.navButton,K.navButtonRight],type:"onMedia",__source:{fileName:z,lineNumber:98},__self:this}))},a._getSlidesToShow=function(){return this.props.slidesToShow||this._swipeableRef.current&&this._swipeableRef.current.getItemsToShow()||1},t}(_.a.Component);l()(q,"defaultProps",{cellSpacing:0,currentSlide:0,locked:!1,onChange:E.a}),q.propTypes={};var K=y.a.create((function(e){return{root:{flex:1},navButtons:{height:"100%",position:"absolute",transitionProperty:"opacity",transitionDuration:"0.2s",width:"100%"},navButtonsHidden:{opacity:0},navButton:{position:"absolute",top:"calc(50% - "+e.spaces.xLarge+" / 2)"},navButtonLeft:{left:e.spaces.xSmall},navButtonRight:{right:e.spaces.xSmall}}}))},TzCa:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI"),r=a("46bp"),i=Object(r.a)({loader:function(){return a.e(176).then(a.bind(null,"tpds"))},renderPlaceholder:function(){return null}});function o(e){return n.createElement(i,{player:e})}},W5XZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,r=a("k49u"),i=a("/A0O"),o=((n={})[r.a.OtherUserSuspended]={customAction:i.a},n[r.a.StatusViewForbidden]={customAction:i.a},n)},"aX4+":function(e,t,a){"use strict";a.r(t);var n,r=a("pVnL"),i=a.n(r),o=a("8OQS"),s=a.n(o),l=(a("91GP"),a("f3/d"),a("PJYZ")),c=a.n(l),_=a("VbXa"),d=a.n(_),u=a("lSNA"),p=a.n(u),m=a("q1tI"),I=a.n(m),g=(a("DW2E"),a("dRSK"),a("jklO")),T=a("dW72"),f={composeDirectMessage:function(e){e.recipient,e.welcomeMessageId,e.messageText},composeTweet:function(e,t,a){},getCtaString:function(e){switch(e){case"play":return"Play";case"shop":return"Shop";case"book":return"Book";case"connect":return"Connect";case"order":return"Order";case"open":return"Open";case"install":default:return"Install"}},getFetchIntervalSeconds:function(){return 30},getMessageMeString:function(e){switch(e){case"message_me_card_cta_1":return"Message us";case"message_me_card_cta_3":return"Send us a private message";case"message_me_card_cta_4":return"Send me a private message";case"message_me_card_cta_2":default:return"Send a private message"}},getMobileOS:function(){return"android"},getBroadcastLink:function(e){return"https://twitter.com/i/broadcasts/"+e},getEventLink:function(e){return"https://twitter.com/i/events/"+e},getMomentLink:function(e){return"https://twitter.com/i/moments/"+e},renderImage:function(e,t,a,n,r){var i=e.uri,o=e.width,s=e.height;return I.a.createElement(g.a,{accessibilityLabel:"",aspectMode:T.a.exact(t||1),cropCandidates:r,image:{url:i,width:o||1e3,height:s||1e3},__source:{fileName:"/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/CardConfig/index.js",lineNumber:93},__self:this})},renderTwemojiText:function(e){return e},renderNumVotesLabel:function(e){return e.toLocaleString()+" vote"+(1===e?"":"s")},renderFinalResultsLabel:function(){return"Final results"},renderRatingsLabel:function(e){return e.appStarRating+"/5.0 stars – "+e.appNumRatings+" ratings"},renderStartingTimeLabel:function(e){return"Starting "+new Date(parseInt(e,10)).toLocaleString("default",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})},renderTimeLeftLabel:function(e){return"Ends at "+new Date(e).toLocaleString()},renderTweetActionLabel:function(e){return"Tweet "+e},renderVoteLabel:function(){return"Vote"},shouldLimitTextToSingleLine:function(){return!1},storeCardState:function(e,t){}},h={init:function(e){for(var t in e)f[t]=e[t]},setRenderImage:function(e){f.renderImage=e},setRenderTwemojiText:function(e){f.renderTwemojiText=e},setRenderNumVotesLabel:function(e){f.renderNumVotesLabel=e},setRenderFinalResultsLabel:function(e){f.renderFinalResultsLabel=e},setRenderTimeLeftLabel:function(e){f.renderTimeLeftLabel=e},setRenderTweetActionLabel:function(e){f.renderTweetActionLabel=e},setRenderRatingsLabel:function(e){f.renderRatingsLabel=e},setRenderVoteLabel:function(e){f.renderVoteLabel=e}},v=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var a=t.prototype;return a.render=function(){return null},a.componentDidMount=function(){this._startTimer()},a.componentWillUnmount=function(){this._stopTimer()},a._startTimer=function(){var e=this.props.requestCardUpdate,t=f.getFetchIntervalSeconds();this._timer=setInterval(e,1e3*t)},a._stopTimer=function(){clearInterval(this._timer)},t}(I.a.Component),E=(a("84bF"),a("PY0T")),y=(a("tUrg"),a("o/GY")),b={AMPLIFY:"amplify",APP:"app",APPPLAYER:"appplayer",AUDIO:"audio",BROADCAST:"745291183405076480:broadcast",DIRECT_STORE_LINK_APP:"direct_store_link_app",IMAGE_DIRECT_MESSAGE:"2586390716:image_direct_message",LIVE_EVENT:"745291183405076480:live_event",MESSAGE_ME:"2586390716:message_me",MOMENT:"3260518932:moment",PERISCOPE_BROADCAST:"3691233323:periscope_broadcast",PLAYER:"player",POLL_2_CHOICE_TEXT:"poll2choice_text_only",POLL_3_CHOICE_TEXT:"poll3choice_text_only",POLL_4_CHOICE_TEXT:"poll4choice_text_only",POLL_2_CHOICE_IMAGE:"poll2choice_image",POLL_3_CHOICE_IMAGE:"poll3choice_image",POLL_4_CHOICE_IMAGE:"poll4choice_image",POLL_2_CHOICE_VIDEO:"poll2choice_video",POLL_3_CHOICE_VIDEO:"poll3choice_video",POLL_4_CHOICE_VIDEO:"poll4choice_video",PROMO_IMAGE_APP:"promo_image_app",PROMO_IMAGE_CONVO:"promo_image_convo",PROMO_VIDEO_CONVO:"promo_video_convo",PROMO_VIDEO_WEBSITE:"2586390716:promo_video_website",PROMO_WEBSITE:"promo_website",SUMMARY:"summary",SUMMARY_LARGE_IMAGE:"summary_large_image",UNIFIED_CARD:"unified_card",VIDEO_DIRECT_MESSAGE:"2586390716:video_direct_message"},N={BUTTON_GROUP:"button_group",BUTTON_GROUP_STATIC:"button_group_static",DESTINATION:"destination_default",DESTINATION_SECONDARY:"destination_secondary",DESTINATION_STATIC:"destination_static",DETAILS:"details_default",DETAILS_SECONDARY:"details_secondary",DETAILS_STATIC:"details_static",MEDIA:"media_default",MEDIA_SECONDARY:"media_secondary",MEDIA_STATIC:"media_static",IMAGE_ENTITY:"image_entity_default",IMAGE_ENTITY_SECONDARY:"image_entity_secondary",IMAGE_ENTITY_STATIC:"image_entity_static",VIDEO_ENTITY:"video_entity_default",VIDEO_ENTITY_SECONDARY:"video_entity_secondary",IFRAME_ENTITY:"iframe_entity",POLL:"poll",POLL_STATIC:"poll_static"},A="default",S="secondary",O="static",C="data_saver",D="badge",w="moments",M="play",L={ACTION:"action",BROADCAST:"broadcast",BROWSER:"browser",BROWSER_WITH_DOCKED_MEDIA:"browser_with_docked_media",BROWSER_WITH_MEDIA:"browser_with_media",EVENT:"event",MOMENT:"moment"},R="media",x="details",P="button_group",k="swipeable_media",j="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/Card/DestinationWrapper.js",B=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"_scribeAndLogAction",(function(e,a,n){var r=t.props.scribeCardAction,i=n&&void 0!==n.index?n.index:void 0,o=e.type===L.ACTION&&e.data.auth_required;r&&r({action:e.data.scribe,componentType:a,ctaIndex:i,isAuthRequired:o}),t._logPromotedCardAction({action:e.data.promoted_log,componentType:a,ctaIndex:i,isAuthRequired:o})})),p()(c()(t),"_voteForChoice",(function(e){var a=t.props,n=a.card,r=a.onPollVote;r&&n&&r({cardId:n.id,choice:e})})),p()(c()(t),"_updateCardStateAndPersistIfNeeded",(function(e,a,n){var r=t.props.updateCardState;n&&(r&&r(n),a&&f.storeCardState(e,n))})),p()(c()(t),"_logPromotedCardAction",(function(e){var a=e.action,n=e.componentType,r=e.ctaIndex,i=e.isAuthRequired,o=t.props,s=o.card,l=o.onPromotedLogEvent;s&&l&&l(Object.assign({action:a,componentType:n},"number"==typeof r?{buttonIndex:r}:null,{isAuthRequired:i}))})),t}return d()(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.card,n=t.children,r=t.destinationKey,i=t.buttonData,o=t.componentType;if(!a||!r)return n({});var s=a.destinations[r];if(!s)return n({});switch(s.type){case L.BROWSER:case L.BROWSER_WITH_DOCKED_MEDIA:case L.BROWSER_WITH_MEDIA:return n({link:s.data.url_data.url,onClick:function(){return e._scribeAndLogAction(s,o,i)}});case L.MOMENT:return n({link:f.getMomentLink(s.data.moment_data.moment),onClick:function(){return e._scribeAndLogAction(s,o,i)}});case L.EVENT:return n({link:f.getEventLink(s.data.event_data.id),onClick:function(){return e._scribeAndLogAction(s,o,i)}});case L.BROADCAST:return n({link:f.getBroadcastLink(s.data.broadcast_data.id),onClick:function(){return e._scribeAndLogAction(s,o,i)}});case L.ACTION:var l=s.data.action_data,c=l.next_state,_=l.persist;return n({onClick:function(t){switch(e._scribeAndLogAction(s,o,i),l.type){case"compose":i&&f.composeTweet(a.id,i.tweet||void 0,c);break;case"dm":l.recipient&&f.composeDirectMessage(Object.assign({recipient:l.recipient},i&&i.wm_id?{welcomeMessageId:i.wm_id}:null,{},i&&i.composer_text?{messageText:i.composer_text}:null));break;case"vote":i&&e._voteForChoice(i.index);break;default:e._updateCardStateAndPersistIfNeeded(a.id,_,c),t.stopPropagation()}}});default:return n}},t}(I.a.Component),Y=(n=B,function(e){return I.a.createElement(Ea.Context.Consumer,{__source:{fileName:j,lineNumber:143},__self:this},(function(t){return I.a.createElement(n,i()({},e,t,{__source:{fileName:j,lineNumber:145},__self:this}))}))}),G=a("CfX/"),U=a.n(G),W=a("UOTC"),V=a.n(W),z=a("DpuJ"),F=a("Epja"),H=a.n(F),q="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/CardButtons/index.js",K=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"_renderButton",(function(e,a){var n=t.props.buttonSize,r=t._getButtonIcon(e.icon)||void 0,i=a>0;return I.a.createElement(Y,{buttonData:e,componentType:"button_group",destinationKey:e.destination,key:e.cta,__source:{fileName:q,lineNumber:31},__self:this},(function(t){var a=t.link,o=t.onClick;return I.a.createElement(y.a,{icon:r,key:e.cta,link:a,onClick:o,size:n,style:[X.button,i&&X.buttonTopMargin],type:"secondary",__source:{fileName:q,lineNumber:38},__self:this},e.cta)}))})),t}d()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.chromeless,a=e.buttons;return I.a.createElement(H.a,{style:!t&&X.wrapperPadding,__source:{fileName:q,lineNumber:22},__self:this},a.map(this._renderButton))},a._getButtonIcon=function(e){switch(e){case"dm":return I.a.createElement(V.a,{__source:{fileName:q,lineNumber:57},__self:this});case"link":return I.a.createElement(U.a,{__source:{fileName:q,lineNumber:59},__self:this});default:return null}},t}(I.a.Component);p()(K,"displayName","@twitter/CardButtons");var X=z.a.create((function(e){return{wrapperPadding:{padding:e.spaces.xSmall},button:{flexGrow:1},buttonTopMargin:{marginTop:e.spaces.xSmall}}})),J=K,Z=a("AIZp"),Q=function(e){var t=e.ext_media_color&&e.ext_media_color.palette,a=t&&Z.a.get(t);return a?"rgb("+a.rgb.red+", "+a.rgb.green+", "+a.rgb.blue+")":void 0},$=a("8dje"),ee=a.n($),te=a("AVJM"),ae=a.n(te),ne=a("hLX1"),re=a.n(ne),ie=a("XORD"),oe=a("0Cyg"),se=(a("17x9"),"/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/CardImage/index.js"),le=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.destination,a=e.locationKey,n=e.mediaEntity,r=e.ratio,i=e.renderPlaceholder,o=e.style,s=n||{},l=s.media_url_https,c=s.original_info,_=(c=void 0===c?{}:c).width,d=c.height,u=s.cropCandidates,p=n&&Q(n),m=I.a.createElement(I.a.Fragment,{__source:{fileName:se,lineNumber:44},__self:this},I.a.createElement(Ea.Context.Consumer,{__source:{fileName:se,lineNumber:45},__self:this},(function(e){var t=e.isDataSaverEnabled,n=e.isPromoted,i=t?n?"suboptimal":"preview":void 0;return f.renderImage({uri:l,width:_,height:d},r,i,a,u)})),this._renderOverlay()),g=I.a.createElement(E.a,{ratio:r||1,__source:{fileName:se,lineNumber:62},__self:this},I.a.createElement(H.a,{style:[ce.image,ce.mediaMissingIconContainer],__source:{fileName:se,lineNumber:63},__self:this},I.a.createElement(ae.a,{style:ce.newsIcon,__source:{fileName:se,lineNumber:64},__self:this}))),T=l&&!i,h=[o,ce.root,{backgroundColor:p}],v=[ce.root,ce.mediaMissing],y=T?h:v,b=T?m:g;return I.a.createElement(Y,{componentType:"image",destinationKey:t,__source:{fileName:se,lineNumber:76},__self:this},(function(e){var t=e.link,a=e.onClick;return I.a.createElement(oe.a,{link:t,onClick:a,style:y,__source:{fileName:se,lineNumber:78},__self:this},b)}))},a._renderOverlay=function(){var e=this.props.overlay;if(!e)return null;switch(e.type){case w:return I.a.createElement(H.a,{pointerEvents:"none",style:ce.momentsOverlay,__source:{fileName:se,lineNumber:95},__self:this},I.a.createElement(ie.a,{background:"translucentBlack",square:!0,__source:{fileName:se,lineNumber:96},__self:this},I.a.createElement(ee.a,{__source:{fileName:se,lineNumber:97},__self:this})));case M:return I.a.createElement(H.a,{style:ce.playOverlay,__source:{fileName:se,lineNumber:103},__self:this},I.a.createElement(re.a,{style:ce.playIcon,__source:{fileName:se,lineNumber:104},__self:this}));case D:return I.a.createElement(H.a,{style:ce.badgeOverlay,__source:{fileName:se,lineNumber:109},__self:this},I.a.createElement(ie.a,{background:"translucentBlack",__source:{fileName:se,lineNumber:110},__self:this},e.text));default:return null}},t}(I.a.Component);le.propTypes={};var ce=z.a.create((function(e){return{root:{width:"100%",height:"100%",overflow:"hidden"},image:{width:"100%",height:"100%"},badgeOverlay:{position:"absolute",bottom:e.spaces.xSmall,left:e.spaces.xSmall},momentsOverlay:{position:"absolute",bottom:e.spaces.xSmall,left:e.spaces.xSmall},playOverlay:{position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},momentsIcon:{height:e.spaces.small,color:e.colors.white},playIcon:{color:e.colors.primary,height:e.spaces.xxLarge},mediaMissing:{backgroundColor:e.colors.faintGray},mediaMissingIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},newsIcon:{color:e.colors.deepGray,height:"2em"}}})),_e=le,de=a("OluO"),ue="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/Card/components/CardCarousel/index.js",pe=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"state",{currentSlide:0}),p()(c()(t),"_handleChange",(function(e){t.setState({currentSlide:e})})),t}return d()(t,e),t.prototype.render=function(){var e=this.state.currentSlide,t=this.props.swipeableMedia,a=t[0].media_entity;if("photo"!==a.type)return null;var n=a.original_info,r=n.width/n.height;return I.a.createElement(E.a,{ratio:r,style:me.aspectRatio,__source:{fileName:ue,lineNumber:36},__self:this},I.a.createElement(H.a,{style:[me.root],__source:{fileName:ue,lineNumber:37},__self:this},I.a.createElement(de.a,{cellSpacing:5,currentSlide:e,onChange:this._handleChange,showNavButtonsOnHover:!0,__source:{fileName:ue,lineNumber:38},__self:this},t.map((function(e,a){var n=e.media_entity,r=e.destination;if("photo"!==n.type)return null;var i=n.original_info,o=i.width,s=i.height;return I.a.createElement(_e,{destination:r,key:a,mediaEntity:n,ratio:n?Math.max(o/s,1):void 0,style:[me.image,0===a&&me.firstImage,a===t.length-1&&me.lastImage],__source:{fileName:ue,lineNumber:49},__self:this})})))))},t}(I.a.Component),me=z.a.create((function(e){return{root:{height:"100%"},aspectRatio:{overflow:"visible"},image:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small},firstImage:{borderTopLeftRadius:e.borderRadii.large},lastImage:{borderTopRightRadius:e.borderRadii.large}}})),Ie=pe,ge=a("GStB"),Te="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/CardText/index.js",fe=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,a=e.dir,n=e.numberOfLines,r=e.type;return I.a.createElement(ge.a,{color:"vanity"===r||"description"===r?"deepGray":"normal",dir:a,numberOfLines:n,__source:{fileName:Te,lineNumber:32},__self:this},"vanity"===r?I.a.createElement(ge.a,{size:"small",style:he.icon,__source:{fileName:Te,lineNumber:38},__self:this},I.a.createElement(U.a,{__source:{fileName:Te,lineNumber:39},__self:this})):null,f.renderTwemojiText(t))},t}(I.a.Component);p()(fe,"displayName","@twitter/CardText"),p()(fe,"defaultProps",{dir:"auto"}),fe.propTypes={};var he=z.a.create((function(e){return{icon:{marginRight:e.spaces.micro}}})),ve=fe,Ee=a("AuO9"),ye="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/CardDetail/index.js",be=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"_hasText",(function(){var e=t.props,a=e.attribution,n=e.category,r=e.title,i=e.description,o=e.vanity;return!!(a||r||i||o||n)})),t}d()(t,e);var a=t.prototype;return a.render=function(){var e=this,t=this.props.destination;return I.a.createElement(Y,{componentType:"details",destinationKey:t,__source:{fileName:ye,lineNumber:34},__self:this},(function(t){var a=t.link,n=t.onClick;return I.a.createElement(oe.a,{link:a,onClick:n,style:Ae.detailItemsWrapper,__source:{fileName:ye,lineNumber:36},__self:this},e._renderContent(),e._renderExtraContent())}))},a._renderExtraContent=function(){var e=this.props.extraContent;return e?I.a.createElement(H.a,{style:Ae.extraContentWrapper,__source:{fileName:ye,lineNumber:48},__self:this},e):null},a._renderContent=function(){var e=this.props,t=e.attribution,a=e.category,n=e.chromeless,r=e.destination,i=e.footer,o=e.title,s=e.titleMaxLines,l=e.description,c=e.descriptionMaxLines,_=e.vanity,d=e.withBottomPadding,u=!r;return I.a.createElement(H.a,{style:[Ae.textContentWrapper,n?null:[Ae.wrapperPadding,d&&Ae.bottomPadding]],__source:{fileName:ye,lineNumber:70},__self:this},t?I.a.createElement(Ee.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,style:[Ae.attributionWrapper,this._hasText()&&Ae.spaceBelow],withLink:u,__source:{fileName:ye,lineNumber:77},__self:this}):null,a?I.a.createElement(H.a,{style:[o||l||_||i?Ae.spaceBelow:null],__source:{fileName:ye,lineNumber:88},__self:this},I.a.createElement(ve,{dir:Ne(a.is_rtl),numberOfLines:1,type:"description",__source:{fileName:ye,lineNumber:89},__self:this},a.content)):null,o?I.a.createElement(H.a,{style:[l||_||i?Ae.spaceBelow:null],__source:{fileName:ye,lineNumber:95},__self:this},I.a.createElement(ve,{dir:Ne(o.is_rtl),numberOfLines:f.shouldLimitTextToSingleLine()?1:s,type:"title",__source:{fileName:ye,lineNumber:96},__self:this},o.content)):null,l?I.a.createElement(H.a,{style:[_||i?Ae.spaceBelow:null],__source:{fileName:ye,lineNumber:106},__self:this},I.a.createElement(ve,{dir:Ne(l.is_rtl),numberOfLines:f.shouldLimitTextToSingleLine()?1:c,type:"description",__source:{fileName:ye,lineNumber:107},__self:this},l.content)):null,i?I.a.createElement(H.a,{style:[_?Ae.spaceBelow:null],__source:{fileName:ye,lineNumber:117},__self:this},I.a.createElement(ve,{dir:"auto",numberOfLines:1,type:"description",__source:{fileName:ye,lineNumber:118},__self:this},i)):null,_?I.a.createElement(H.a,{__source:{fileName:ye,lineNumber:124},__self:this},I.a.createElement(ve,{dir:"auto",numberOfLines:1,type:"vanity",__source:{fileName:ye,lineNumber:125},__self:this},_)):null)},t}(I.a.Component);p()(be,"displayName","@twitter/CardDetail");var Ne=function(e){switch(e){case!0:return"rtl";case!1:return"ltr";default:return"auto"}},Ae=z.a.create((function(e){return{attributionWrapper:{alignItems:"flex-start"},detailItemsWrapper:{flexDirection:"row",justifyContent:"space-between",flexGrow:1},extraContentWrapper:{flexShrink:0,padding:e.spaces.xSmall},textContentWrapper:{flexGrow:1,flexShrink:1,justifyContent:"center"},wrapperPadding:{paddingTop:e.spaces.xSmall,paddingHorizontal:e.spaces.xSmall},bottomPadding:{paddingBottom:e.spaces.xSmall},spaceBelow:{marginBottom:e.spaces.micro}}})),Se=be,Oe=a("RIqP"),Ce=a.n(Oe),De=a("COAa"),we=a.n(De),Me="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/PollChoiceResults/Result.js",Le=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.noVotes,a=e.isFinal,n=e.isSelected,r=e.isWinner,i=e.label,o=e.percentageOfTotalVote,s=100===o,l=r?"bold":void 0,c=t?"7px":o+"%";return I.a.createElement(H.a,{style:Re.choice,__source:{fileName:Me,lineNumber:36},__self:this},I.a.createElement(H.a,{style:[Re.choicePercentageBar,(a||s||t)&&Re.choicePercentageBarRoundCorners,r&&Re.choicePercentageBarWinner,{width:c}],__source:{fileName:Me,lineNumber:37},__self:this}),I.a.createElement(H.a,{style:Re.choiceLabel,__source:{fileName:Me,lineNumber:45},__self:this},I.a.createElement(ge.a,{weight:l,__source:{fileName:Me,lineNumber:46},__self:this},i,n?" ":null,n?I.a.createElement(we.a,{__source:{fileName:Me,lineNumber:49},__self:this}):null)),I.a.createElement(H.a,{style:Re.choiceLabel,__source:{fileName:Me,lineNumber:52},__self:this},I.a.createElement(ge.a,{weight:l,__source:{fileName:Me,lineNumber:53},__self:this}," "+o+"%")))},t}(I.a.Component);Le.propTypes={};var Re=z.a.create((function(e){return{choice:{alignItems:"center",flexDirection:"row",height:e.spaces.large,justifyContent:"space-between"},choicePercentageBar:{backgroundColor:e.colors.lightGray,borderTopLeftRadius:e.borderRadii.medium,borderBottomLeftRadius:e.borderRadii.medium,position:"absolute",top:0,left:0,bottom:0},choicePercentageBarRoundCorners:{borderRadius:e.borderRadii.medium},choicePercentageBarWinner:{backgroundColor:e.colors.lightPrimary},choiceLabel:{paddingVertical:0,paddingHorizontal:e.spaces.xSmall}}})),xe=Le,Pe="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/PollChoiceResults/index.js",ke=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var a=t.prototype;return a.render=function(){var e=this,t=this.props,a=t.choices,n=t.totalVotes,r=Math.max.apply(Math,Ce()(a.map((function(e){return e.count}))));return a.map((function(t,a){return I.a.createElement(H.a,{key:t.index,style:0!==a&&je.topMargin,__source:{fileName:Pe,lineNumber:22},__self:this},e._renderChoiceResult(t,n,r))}))},a._renderChoiceResult=function(e,t,a){var n=this.props,r=n.isFinal,i=n.selectedChoice,o=Math.round(e.count/t*1e3)/10||0;return I.a.createElement(xe,{isFinal:r,isSelected:i===e.index,isWinner:r&&e.count===a,label:f.renderTwemojiText(e.cta,!0),noVotes:0===e.count,percentageOfTotalVote:o,__source:{fileName:Pe,lineNumber:32},__self:this})},t}(I.a.Component),je=z.a.create((function(e){return{topMargin:{marginTop:e.spaces.xSmall}}})),Be=ke,Ye="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/CardPoll/index.js",Ge=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.choices,a=e.endDatetimeUtc,n=e.isAuthor,r=e.isFinal,i=e.totalVotes,o=e.selectedChoice;return I.a.createElement(H.a,{__source:{fileName:Ye,lineNumber:19},__self:this},o||r||n?I.a.createElement(Be,{choices:t,isFinal:r,selectedChoice:o,totalVotes:i,__source:{fileName:Ye,lineNumber:21},__self:this}):I.a.createElement(J,{buttonSize:"normalCompact",buttons:t.map((function(e){return{cta:e.cta,index:e.index,destination:e.destination}})),chromeless:!0,__source:{fileName:Ye,lineNumber:28},__self:this}),I.a.createElement(ge.a,{color:"deepGray",style:Ue.pollStatus,__source:{fileName:Ye,lineNumber:34},__self:this},f.renderNumVotesLabel(i)," ·"," ",r?f.renderFinalResultsLabel():f.renderTimeLeftLabel(a)))},t}(I.a.Component);p()(Ge,"displayName","@twitter/CardPoll");var Ue=z.a.create((function(e){return{pollStatus:{marginTop:e.spaces.xSmall}}})),We=Ge,Ve=a("2fNq"),ze=a("GKLa"),Fe=a("i8i4"),He=a.n(Fe),qe=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),Ke=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),Xe=Object.freeze({large:5,medium:4,small:3}),Je=Object.freeze({large:"normal",medium:"normalCompact",small:"normalCompact"}),Ze=function(e,t,a){var n={large:Ke,small:qe}[e],r=t>=450?n.large:t>=400?n.medium:n.small,i=a.attribution,o=a.category,s=a.description,l=a.footer,c=a.title,_=[o,i,a.vanity,l].some(Boolean),d=r.title+(s?0:r.description)+(_?0:1),u="small"!==e||c||_?r.description:r.description+1;return"small"===e?{titleMaxLines:d,descriptionMaxLines:u}:{titleMaxLines:Math.min(2,d),descriptionMaxLines:u}},Qe=function(e,t){var a=[t.attribution,t.category,t.description,t.footer,t.title,t.vanity].filter(Boolean).length,n=e>=450?Xe.large:e>=400?Xe.medium:Xe.small;return et(n,a)},$e=function(e){return e>=450?Je.large:e>=400?Je.medium:Je.small},et=function(e,t){var a=z.a.theme,n=a.borderWidths,r=a.fontSizes,i=a.lineHeight,o=a.spaces;return"calc("+(r.normal+" * "+i+" * "+e)+" + "+(o.xSmall+" * 2")+" + "+(n.small+" * 2")+" + "+(o.micro+" * "+(t-1))+")"},tt="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/CardLayoutLarge/index.js",at=function(e){function t(t){var a;return a=e.call(this,t)||this,p()(c()(a),"_updateSizes",(function(e){var t=a.props,n=t.details,r=t.buttons,i=a.state,o=i.titleMaxLines,s=i.descriptionMaxLines,l=i.buttonSize,c=n?Ze("large",e,n):{titleMaxLines:null,descriptionMaxLines:null},_=r?$e(e):void 0,d=c.titleMaxLines,u=c.descriptionMaxLines;(d!==o||u!==s||_&&_!==l)&&a.setState(Object.assign({},d?{titleMaxLines:d}:null,{},u||0===u?{descriptionMaxLines:u}:null,{},_?{buttonSize:_}:null))})),p()(c()(a),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;a._updateSizes(t)})),p()(c()(a),"_setRootNode",(function(e){if(e){var t=He.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&a._updateSizes(t.clientWidth)}})),a.state=Object.assign({},t.details?Ze("large",500,t.details):null,{},t.buttons?{buttonSize:$e(500)}:null),a}d()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.buttons,a=e.chromeless,n=e.details,r=e.poll,i=e.withInteractiveStyling,o=this._renderSwipeableMedia(),s=this._renderMedia()||o,l=!!r,c=!a&&!o,_=a&&!o,d=!!(r||t||n)&&!o;return I.a.createElement(ze.a,{interactiveStyles:i?void 0:null,onLayout:this._handleLayout,style:[c&&nt.border,o&&nt.rootWithCarousel],viewRef:this._setRootNode,__source:{fileName:tt,lineNumber:83},__self:this},s?I.a.createElement(H.a,{importantForAccessibility:"no-hide-descendants",style:[nt.media,_&&nt.border,d&&nt.mediaBottomBorder,l&&nt.mediaBottomSpace],__source:{fileName:tt,lineNumber:90},__self:this},s):null,I.a.createElement(H.a,{style:[o&&nt.carouselBottomContent],__source:{fileName:tt,lineNumber:103},__self:this},this._renderDetail(),this._renderButtons(),this._renderPoll()))},a._renderDetail=function(){if(!this.props.details)return null;var e=this.state,t=e.titleMaxLines,a=e.descriptionMaxLines,n=this.props,r=n.buttons,i=n.chromeless,o=n.details,s=o.attribution,l=o.category,c=o.description,_=o.destination,d=o.footer,u=o.title,p=o.vanity;return I.a.createElement(Se,{attribution:s,category:l,chromeless:i,description:0!==a?c:void 0,descriptionMaxLines:a,destination:_,footer:d,title:u,titleMaxLines:t,vanity:p,withBottomPadding:!r,__source:{fileName:tt,lineNumber:122},__self:this})},a._renderButtons=function(){var e=this.state.buttonSize,t=this.props,a=t.chromeless,n=t.buttons;return n?I.a.createElement(J,{buttonSize:e,buttons:n,chromeless:a,__source:{fileName:tt,lineNumber:142},__self:this}):null},a._renderPoll=function(){var e=this.props.poll;return e?I.a.createElement(We,i()({},e,{__source:{fileName:tt,lineNumber:147},__self:this})):null},a._renderSwipeableMedia=function(){var e=this.props.swipeableMedia;return e?I.a.createElement(Ie,{swipeableMedia:e,__source:{fileName:tt,lineNumber:152},__self:this}):null},a._renderMedia=function(){var e=this.props,t=e.locationKey,a=e.media,n=e.renderVideoPlayer;if(!a||!a.mediaEntity)return null;var r=a.aspect_ratio,i=a.mediaEntity,o=a.destination,s=a.overlay;if("photo"===i.type){var l=i.original_info,c=l.width,_=l.height;return I.a.createElement(_e,{destination:o,locationKey:t&&t+"-largeCard",mediaEntity:i,overlay:s,ratio:r||(i?Math.max(c/_,1):void 0),__source:{fileName:tt,lineNumber:168},__self:this})}return"iframe"===i.type?I.a.createElement(E.a,{ratio:Math.max(i.aspect_ratio,1),__source:{fileName:tt,lineNumber:180},__self:this},I.a.createElement(Ve.a,{src:i.url,style:nt.iframe,__source:{fileName:tt,lineNumber:181},__self:this})):"video"===i.type||"uc_video"===i.type||"live_broadcast"===i.type||"vine"===i.type||"tweet_video"===i.type?n?I.a.createElement(Ea.Context.Consumer,{__source:{fileName:tt,lineNumber:194},__self:this},(function(e){var t=e.isDataSaverEnabled,a=e.isPromoted;return n(i,t?a?"suboptimal":"preview":void 0)})):null:void 0},t}(I.a.Component);p()(at,"defaultProps",{isPromoted:!1,withInteractiveStyling:!0}),at.propTypes={};var nt=z.a.create((function(e){return{media:{display:"block"},mediaBottomBorder:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},mediaBottomSpace:{marginBottom:e.spaces.xSmall},border:{borderRadius:e.borderRadii.large,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,overflow:"hidden"},rootWithCarousel:{marginRight:e.spaces.large,borderRadius:e.borderRadii.large},carouselBottomContent:{borderBottomLeftRadius:e.borderRadii.large,borderBottomRightRadius:e.borderRadii.large,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,marginTop:-.5},iframe:{height:"100%"}}})),rt=at,it="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/CardLayoutSmall/index.js",ot=function(e){function t(t){var a;return a=e.call(this,t)||this,p()(c()(a),"_updateSizes",(function(e){var t=a.state,n=t.titleMaxLines,r=t.descriptionMaxLines,i=t.imageWidthStyle,o=Ze("small",e,a.props.details),s=Qe(e,a.props.details),l=o.titleMaxLines,c=o.descriptionMaxLines;s===i&&l===n&&c===r||a.setState({titleMaxLines:l,descriptionMaxLines:c,imageWidthStyle:s})})),p()(c()(a),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;a._updateSizes(t)})),p()(c()(a),"_setRootNode",(function(e){if(e){var t=He.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&a._updateSizes(t.clientWidth)}})),a.state=Object.assign({},Ze("small",500,t.details),{},{imageWidthStyle:Qe(500,t.details)}),a}d()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.reverse,a=e.withInteractiveStyling,n=this.state.imageWidthStyle,r=I.a.createElement(H.a,{key:"details",style:lt.details,__source:{fileName:it,lineNumber:56},__self:this},this._renderDetail()),i=I.a.createElement(H.a,{importantForAccessibility:"no-hide-descendants",key:"media",style:[lt.media,{width:n},t?lt.mediaLeftBorder:lt.mediaRightBorder],__source:{fileName:it,lineNumber:61},__self:this},this._renderMedia());return I.a.createElement(ze.a,{interactiveStyles:a?void 0:null,onLayout:this._handleLayout,style:lt.root,viewRef:this._setRootNode,__source:{fileName:it,lineNumber:71},__self:this},t?[r,i]:[i,r])},a._renderDetail=function(){if(!this.props.details)return null;var e=this.state,t=e.titleMaxLines,a=e.descriptionMaxLines,n=this.props.details;return I.a.createElement(Se,{attribution:n.attribution,category:n.category,description:0!==a?n.description:void 0,descriptionMaxLines:a,destination:n.destination,footer:n.footer,title:n.title,titleMaxLines:t,vanity:n.vanity,withBottomPadding:!0,__source:{fileName:it,lineNumber:90},__self:this})},a._renderMedia=function(){var e=this.props,t=e.locationKey,a=e.media,n=a.mediaEntity,r=a.destination,i=a.overlay;return n&&"photo"!==n.type?null:I.a.createElement(Ea.Context.Consumer,{__source:{fileName:it,lineNumber:115},__self:this},(function(e){var a=e.isDataSaverEnabled,o=e.isPromoted,s=a&&!o;return I.a.createElement(_e,{destination:r,locationKey:t&&t+"-smallCard",mediaEntity:n,overlay:i,ratio:1,renderPlaceholder:s,__source:{fileName:it,lineNumber:119},__self:this})}))},t}(I.a.Component);p()(ot,"defaultProps",{withInteractiveStyling:!0}),ot.propTypes={};var st,lt=z.a.create((function(e){return{root:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.large,overflow:"hidden",flexDirection:"row"},media:{display:"block",borderColor:e.colors.nestedBorderColor,borderStyle:"solid"},mediaLeftBorder:{borderLeftWidth:e.borderWidths.small},mediaRightBorder:{borderRightWidth:e.borderWidths.small},details:{flexGrow:1,flexShrink:1,justifyContent:"center"}}})),ct=ot,_t=(a("SRfc"),function(e,t,a){return("string"==typeof a?[a]:a).map((function(a){return e[a]&&e[a][t]})).find((function(e){return!!e}))}),dt=_t,ut=_t,pt=_t,mt=_t,It=function(e,t){var a=function e(t){return{and:function(a){return e(t&&n(a))},or:function(a){return e(t||n(a))},result:function(){return t}}},n=function(t){return"string"==typeof t?!!e[t]:t(a(!0).and).result()};return n(t)},gt=function(e,t){return{media_url_https:e.url,type:"photo",original_info:{width:e.width,height:e.height},ext_media_color:{palette:[]},cropCandidates:t}},Tt=function(e){var t=e.match(/\/([0-9]+)(\/|\.)/);return t?t[1]:""},ft=function(e){return"https://cards-frame.twitter.com/i/cards/tfw/v1/uc/"+e},ht={url:"https://pbs.twimg.com/lex/placeholder_live_nomargin.png",width:1920,height:1080},vt="NOT_STARTED",Et=function(e){var t=dt(e,"string_value","domain"),a=pt(e,"user_value","site"),n=dt(e,"string_value","app_name");return t&&"vine.co"===t.toLowerCase()||a&&"586671909"===a.id_str||n&&"vine"===n.toLowerCase()},yt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=e.cardContext,_=mt(l,"image_value","player_image_original"),d=dt(l,"string_value","description"),u=parseInt(dt(l,"string_value","player_width"),10)/parseInt(dt(l,"string_value","player_height"),10);return{state:A,layout:(t={},t[A]={size:"large"},t[O]={size:"small"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,destinations:(a={},a[N.DESTINATION]={type:L.BROWSER,data:{url_data:{url:dt(l,"string_value","card_url"),vanity:dt(l,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},a),components:(n={},n[A]=[N.MEDIA,N.DETAILS],n[O]=[N.MEDIA_STATIC,N.DETAILS],n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(_),r[N.VIDEO_ENTITY]={type:"vine",aspect_ratio:u,content_id:Tt(_.url),poster_image:_,publisher_id:dt(l,"string_value","site")||c.tweetUserId,variants:[{src:dt(l,"string_value","player_stream_url"),type:dt(l,"string_value","player_stream_content_type")}]},r),components_data:(i={},i[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY}},i[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY,destination:N.DESTINATION,overlay:{type:M}}},i[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},d?{description:{content:d}}:null,{title:{content:dt(l,"string_value","title")}})},i)}}},bt=(a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V"),{media:!0,details:!0,button_group:!0,app_store_details:!0,swipeable_media:!0}),Nt=function(e){var t=function(t){return t.map((function(t){return e.find((function(e){return e.type===t}))})).find(Boolean)},a="android"===f.getMobileOS()?t(["android_app","iphone_app","ipad_app"]):t(["iphone_app","ipad_app","android_app"]);if(a)return a.category||(a.category={is_rtl:!1,content:"android_app"===a.type?"Play Store":"App Store"}),a.url="android_app"===a.type?"http://play.google.com/store/apps/details?id="+a.id:function(e){return"https://itunes.apple.com/app/id"+e}(a.id),a},At=function(e){return e.unified_card&&e.unified_card.string_value?JSON.parse(e.unified_card.string_value):{components:[],component_objects:{},destination_objects:{},media_entities:{},app_store_data:{}}},St=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=e.cardContext,_=mt(l,"image_value","player_image_original"),d=parseInt(dt(l,"string_value","player_width"),10)/parseInt(dt(l,"string_value","player_height"),10),u=dt(l,"string_value","content_duration_seconds"),p=dt(l,"string_value","title"),m=dt(l,"string_value","description");return{state:A,layout:(t={},t[A]={size:"large"},t[O]={size:"large"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=p||m?[N.MEDIA,N.DETAILS]:[N.MEDIA],a[O]=p||m?[N.MEDIA_STATIC,N.DETAILS_STATIC]:[N.MEDIA_STATIC],a),destinations:(n={},n[N.DESTINATION_STATIC]={type:L.BROWSER,data:{url_data:{url:c.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(_||{}),r[N.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:d,content_id:dt(l,"string_value","amplify_content_id")},u?{duration_ms:1e3*parseInt(u,10)}:null,{vmap_url:dt(l,"string_value","amplify_url_vmap"),poster_image:_,publisher_id:dt(l,"string_value","site")||c.tweetUserId,variants:[]}),r),components_data:(i={},i[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY}},i[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY,destination:N.DESTINATION_STATIC,overlay:{type:M}}},i[N.DETAILS]={type:x,data:Object.assign({},p?{title:{content:p}}:null,{},m?{description:{content:m}}:null)},i[N.DETAILS_STATIC]={type:x,data:Object.assign({},p?{title:{content:p}}:null,{},m?{description:{content:m}}:null,{destination:N.DESTINATION_STATIC})},i)}}},Ot=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=mt(l,"image_value","thumbnail_original"),_=dt(l,"string_value","description"),d=dt(l,"string_value","app_star_rating"),u=dt(l,"string_value","app_num_ratings"),p=d&&u?f.renderRatingsLabel({appStarRating:d,appNumRatings:u}):null,m=dt(l,"string_value","card_url");return{state:A,layout:(t={},t[A]={size:"small"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:Object.assign({url:dt(l,"string_value","card_url")},p?null:{vanity:m}),scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},c?(r={},r[N.IMAGE_ENTITY]=gt(c),r):null),components_data:(i={},i[N.MEDIA]={type:R,data:{id:c?N.IMAGE_ENTITY:null,aspect_ratio:1,destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},_?{description:{content:_}}:null,{title:{content:dt(l,"string_value","title")}},p?{footer:p}:null)},i)}}},Ct=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=e.cardContext,_=mt(l,"image_value","player_image_original"),d=parseInt(dt(l,"string_value","player_width"),10)/parseInt(dt(l,"string_value","player_height"),10),u=dt(l,"string_value","content_duration_seconds");return{state:A,layout:(t={},t[A]={size:"large"},t[O]={size:"large"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a[O]=[N.MEDIA_STATIC,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:{url:dt(l,"string_value","card_url")},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(_),r[N.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:d,content_id:dt(l,"string_value","player_content_id")||Tt(_.url)},u?{duration_ms:1e3*parseInt(u,10)}:null,{vmap_url:dt(l,"string_value","player_stream_url"),poster_image:_,publisher_id:dt(l,"string_value","player_owner_id")||c.tweetUserId,variants:[{src:dt(l,"string_value","player_hls_url"),type:"application/x-mpegURL"}]}),r),components_data:(i={},i[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY,aspect_ratio:d}},i[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY,aspect_ratio:d,destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:{destination:N.DESTINATION,title:{content:dt(l,"string_value","title")},footer:dt(l,"string_value","app_category")||"App Store"}},i)}}},Dt=function(e){var t,a,n,r,i,o,s=e.cardId,l=e.cardType,c=e.data,_=e.cardContext,d=mt(c,"image_value","player_image_original"),u=dt(c,"string_value","description"),p=dt(c,"string_value","player_url"),m=dt(c,"string_value","player_width"),I=dt(c,"string_value","player_height"),g=m&&I?parseInt(m,10)/parseInt(I,10):16/9,T=[N.MEDIA,N.DETAILS],f=[N.MEDIA_STATIC,N.DETAILS_SECONDARY];return{state:A,layout:(t={},t[A]={size:"small"},t[S]={size:"large"},t[O]={size:"small"},t[C]={size:"small"},t),card:{card_name:l,card_url:dt(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:(a={},a[A]=_.tweetId?T:f,a[S]=[N.MEDIA_SECONDARY,N.DETAILS_SECONDARY],a[O]=f,a[C]=[N.MEDIA_STATIC,N.DETAILS_SECONDARY],a),destinations:(n={},n[N.DESTINATION]={type:L.ACTION,data:{action_data:{next_state:S,persist:!1,vanity:dt(c,"string_value",["partner","card_url"])},scribe:"click",promoted_log:"card_url_click"}},n[N.DESTINATION_SECONDARY]={type:L.BROWSER,data:{url_data:{url:dt(c,"string_value","card_url"),vanity:dt(c,"string_value",["partner","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},d?(r={},r[N.IMAGE_ENTITY]=gt(d),r):null,{},p&&_.tweetId?(i={},i[N.IFRAME_ENTITY]={aspect_ratio:g,type:"iframe",url:ft(_.tweetId)},i):null),components_data:(o={},o[N.MEDIA]={type:R,data:{id:d?N.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:M},destination:p?N.DESTINATION:N.DESTINATION_SECONDARY}},o[N.MEDIA_SECONDARY]={type:R,data:{id:p?N.IFRAME_ENTITY:null,aspect_ratio:g}},o[N.MEDIA_STATIC]={type:R,data:{id:d?N.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:M},destination:N.DESTINATION_SECONDARY}},o[N.DETAILS]={type:x,data:Object.assign({destination:p?N.DESTINATION:N.DESTINATION_SECONDARY},u?{description:{content:u}}:null,{title:{content:dt(c,"string_value","title")}})},o[N.DETAILS_SECONDARY]={type:x,data:Object.assign({destination:N.DESTINATION_SECONDARY},u?{description:{content:u}}:null,{title:{content:dt(c,"string_value","title")}})},o)}}},wt=function(e){var t,a,n,r,i,o,s,l=e.cardId,c=e.cardType,_=e.data,d=e.users,u=pt(_,"user_value","site"),p=u&&d[u.id_str],m=dt(_,"string_value","broadcaster_display_name"),I=dt(_,"string_value","broadcast_state")===vt,g=mt(_,"image_value","broadcast_thumbnail_original"),T=mt(_,"image_value","broadcast_pre_live_slate")||ht,h=I?T:g,v=dt(_,"string_value","broadcast_scheduled_start_time"),E=I&&v?f.renderStartingTimeLabel(v):void 0,y=z.a.theme.aspectRatios.landscape,b=Math.max(parseInt(dt(_,"string_value","broadcast_width"),10)/parseInt(dt(_,"string_value","broadcast_height"),10),1);return{state:A,layout:(t={},t[A]={size:"large"},t[O]={size:h?"large":"small"},t),card:{card_name:c,card_url:dt(_,"string_value","card_url"),fetch_updates:(a={},a[A]=!0,a),on_visibility:{scribe:"show"},id:l,components:(n={},n[A]=[I?N.MEDIA_SECONDARY:N.MEDIA,N.DETAILS],n[O]=[N.MEDIA_SECONDARY,N.DETAILS],n),destinations:(r={},r[N.DESTINATION]={type:L.BROADCAST,data:{broadcast_data:{id:dt(_,"string_value","broadcast_id")},scribe:"open_link",promoted_log:"card_url_click"}},r),media_entities:Object.assign({},h?(i={},i[N.IMAGE_ENTITY]=gt(h),i):null,(o={},o[N.VIDEO_ENTITY]=Object.assign({type:"live_broadcast",aspect_ratio:b,broadcast_id:dt(_,"string_value","broadcast_id"),content_id:dt(_,"string_value","broadcast_media_key"),destination:N.DESTINATION},h?{poster_image:h}:null,{timecode:dt(_,"string_value","broadcast_timecode")||dt(_,"string_value","broadcast_replay_edited_start_time")}),o)),components_data:(s={},s[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY,aspect_ratio:b}},s[N.MEDIA_SECONDARY]={type:R,data:{id:h?N.IMAGE_ENTITY:null,aspect_ratio:y,destination:N.DESTINATION,overlay:I?E?{type:D,text:E}:void 0:{type:M}}},s[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},p?{attribution:p}:{category:{content:m}},{title:{content:dt(_,"string_value","broadcast_title")}})},s)}}},Mt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=mt(l,"image_value","thumbnail_original"),_=dt(l,"string_value","description"),d=dt(l,"string_value","app_star_rating"),u=dt(l,"string_value","app_num_ratings"),p=d&&u?f.renderRatingsLabel({appStarRating:d,appNumRatings:u}):null,m=dt(l,"string_value","card_url");return{state:A,layout:(t={},t[A]={size:"small"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:Object.assign({url:dt(l,"string_value","card_url")},p?null:{vanity:m}),scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},c?(r={},r[N.IMAGE_ENTITY]=gt(c),r):null),components_data:(i={},i[N.MEDIA]={type:R,data:{id:c?N.IMAGE_ENTITY:null,aspect_ratio:1,destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},_?{description:{content:_}}:null,{title:{content:dt(l,"string_value","title")}},p?{footer:p}:null)},i)}}},Lt=function(e){var t,a,n,r,i,o,s,l=e.cardId,c=e.cardType,_=e.data,d=e.cardContext,u=e.users,p=mt(_,"image_value","image_original"),m=function(e){return[1,2,3,4].map((function(t){var a=dt(_,"string_value","cta"+t),n=dt(_,"string_value","cta"+t+"_wm_id");return a&&n?{cta:a,wm_id:n,destination:e,icon:"dm",index:t}:null})).filter(Boolean)},I=m(N.DESTINATION),g=m(N.DESTINATION_STATIC),T=pt(_,"user_value","recipient"),f=T&&u[T.id_str],h=T.id_str!==d.tweetUserId&&f;return{state:A,layout:(t={},t[A]={size:"large"},t),card:{card_name:c,card_url:dt(_,"string_value","card_url"),on_visibility:{scribe:"show"},id:l,components:(a={},a[A]=[N.MEDIA].concat(Ce()(h?[N.DETAILS]:[]),[N.BUTTON_GROUP]),a[O]=[N.MEDIA_STATIC].concat(Ce()(h?[N.DETAILS]:[]),[N.BUTTON_GROUP_STATIC]),a),destinations:(n={},n[N.DESTINATION]={type:L.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:T.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}},n[N.DESTINATION_STATIC]={type:L.BROWSER,data:{url_data:{url:d.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(p),r),components_data:Object.assign((i={},i[N.MEDIA]={type:R,data:{id:N.IMAGE_ENTITY}},i[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY,destination:N.DESTINATION_STATIC}},i),h?(o={},o[N.DETAILS]={type:x,data:{attribution:f}},o):null,(s={},s[N.BUTTON_GROUP]={type:P,data:{buttons:I}},s[N.BUTTON_GROUP_STATIC]={type:P,data:{buttons:g}},s))}}},Rt=function(e){var t,a,n,r,i,o,s,l=e.cardId,c=e.cardType,_=e.data,d=e.users,u=pt(_,"user_value","author"),p=u&&d[u.id_str],m=dt(_,"string_value","event_id"),I=dt(_,"string_value","event_category"),g=dt(_,"string_value","media_type"),T="broadcast"===g,f="video"===g,h=dt(_,"string_value","broadcast_id"),v=Math.max(parseInt(dt(_,"string_value","broadcast_width"),10)/parseInt(dt(_,"string_value","broadcast_height"),10),1),E=dt(_,"string_value","broadcast_media_key"),y=dt(_,"string_value","media_tweet_id"),b=mt(_,"image_value","event_thumbnail_original"),D=mt(_,"image_value","broadcast_thumbnail"),w=T?D:b,M=T?void 0:[{h:parseInt(dt(_,"string_value","event_thumbnail_media_size_crops_16x9_h"),10),w:parseInt(dt(_,"string_value","event_thumbnail_media_size_crops_16x9_w"),10),x:parseInt(dt(_,"string_value","event_thumbnail_media_size_crops_16x9_x"),10),y:parseInt(dt(_,"string_value","event_thumbnail_media_size_crops_16x9_y"),10)}];return{state:A,layout:(t={},t[A]={size:"large"},t[C]={size:"small"},t[S]={size:"small",reverse:!0},t[O]={size:w?"large":"small"},t),card:{card_name:c,card_url:dt(_,"string_value","card_url"),fetch_updates:(a={},a[A]=!0,a[C]=!0,a),on_visibility:{scribe:"show"},id:l,components:(n={},n[A]=[T||f?N.MEDIA:N.MEDIA_STATIC,N.DETAILS],n[C]=[N.MEDIA_STATIC,N.DETAILS],n[S]=[N.MEDIA_STATIC,N.DETAILS],n[O]=[N.MEDIA_STATIC,N.DETAILS],n),destinations:(r={},r[N.DESTINATION]={type:L.EVENT,data:{event_data:{id:m},scribe:"open_link",promoted_log:"card_url_click"}},r),media_entities:Object.assign({},w?(i={},i[N.IMAGE_ENTITY]=gt(w,M),i):null,(o={},o[N.VIDEO_ENTITY]=T?{type:"live_broadcast",aspect_ratio:v,broadcast_id:h,content_id:E,destination:N.DESTINATION,poster_image:w,timecode:dt(_,"string_value","broadcast_replay_edited_start_time")}:{type:"tweet_video",aspect_ratio:z.a.theme.aspectRatios.landscape,media_tweet_id:y,event_id:m,poster_image:w},o)),components_data:(s={},s[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY,aspect_ratio:T?v:z.a.theme.aspectRatios.landscape}},s[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY,aspect_ratio:z.a.theme.aspectRatios.landscape,destination:N.DESTINATION}},s[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},p?{attribution:p}:I?{category:{content:I}}:null,{title:{content:dt(_,"string_value","event_title")}})},s)}}},xt=function(e){var t,a,n,r,i=e.cardId,o=e.cardType,s=e.data,l=e.cardContext,c=dt(s,"string_value","default_composer_text"),_=dt(s,"string_value","welcome_message_id"),d=Object.assign({icon:"dm",index:0,cta:f.getMessageMeString(dt(s,"string_value","cta"))},c?{composer_text:c}:null,{},_?{wm_id:_}:null),u=pt(s,"user_value","recipient");return{state:A,layout:(t={},t[A]={size:"large",chromeless:!0},t[O]={size:"large",chromeless:!0},t),card:{card_name:o,card_url:dt(s,"string_value","card_url"),on_visibility:{scribe:"message_me_show"},id:i,components:(a={},a[A]=[N.BUTTON_GROUP],a[O]=[N.BUTTON_GROUP_STATIC],a),destinations:(n={},n[N.DESTINATION]={type:L.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:u.id_str},auth_required:!0,scribe:"message_me_click",promoted_log:"card_url_click"}},n[N.DESTINATION_STATIC]={type:L.BROWSER,data:{url_data:{url:l.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:{},components_data:(r={},r[N.BUTTON_GROUP]={type:P,data:{buttons:[Object.assign({},d,{destination:N.DESTINATION})]}},r[N.BUTTON_GROUP_STATIC]={type:P,data:{buttons:[Object.assign({},d,{destination:N.DESTINATION_STATIC})]}},r)}}},Pt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=e.users,_=mt(l,"image_value","photo_image")||{url:dt(l,"string_value","cover_format_media_url"),width:parseInt(dt(l,"string_value","cover_format_media_size_w"),10)||0,height:parseInt(dt(l,"string_value","cover_format_media_size_h"),10)||0},d=pt(l,"user_value","author"),u=d&&c[d.id_str],p=dt(l,"string_value","title"),m=dt(l,"string_value","description"),I=dt(l,"string_value","subcategory_string");return{state:A,layout:(t={},t[A]={size:"small",reverse:!0},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.MOMENT,data:{moment_data:{moment:dt(l,"string_value","id")},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(_),r),components_data:(i={},i[N.MEDIA]={type:R,data:{id:N.IMAGE_ENTITY,aspect_ratio:1,overlay:{type:w},destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},u?{attribution:u}:I?{category:{content:I}}:null,{},p?{title:{content:p}}:null,{},m?{description:{content:m}}:null)},i)}}},kt=function(e){var t,a,n,r,i,o,s=e.cardId,l=e.cardType,c=e.data,_=e.users,d=mt(c,"image_value","thumbnail_original"),u=Math.max(parseInt(dt(c,"string_value","broadcast_width"),10)/parseInt(dt(c,"string_value","broadcast_height"),10),1),p=dt(c,"string_value","broadcaster_twitter_id"),m=p&&_[p],I=dt(c,"string_value","description");return{state:A,layout:(t={},t[A]={size:"large"},t[O]={size:d?"large":"small"},t),card:{card_name:l,card_url:dt(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a[O]=[N.MEDIA_STATIC,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:{url:dt(c,"string_value","card_url"),vanity:dt(c,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},d?(r={},r[N.IMAGE_ENTITY]=gt(d),r):null,(i={},i[N.VIDEO_ENTITY]=Object.assign({type:"live_broadcast",aspect_ratio:u,broadcast_id:dt(c,"string_value","id"),content_id:dt(c,"string_value","broadcast_media_key"),destination:N.DESTINATION},d?{poster_image:d}:null,{timecode:dt(c,"string_value","timecode")||dt(c,"string_value","replay_edited_start_time")}),i)),components_data:(o={},o[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY,aspect_ratio:u}},o[N.MEDIA_STATIC]={type:R,data:{id:d?N.IMAGE_ENTITY:null,destination:N.DESTINATION,overlay:{type:M}}},o[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},I?{description:{content:I}}:null,{},m?{attribution:m}:null,{},p?null:{title:{content:dt(c,"string_value","title")}})},o)}}},jt=function(e){var t,a,n,r,i,o,s=e.cardId,l=e.cardType,c=e.data,_=e.cardContext,d=e.users,u=mt(c,"image_value","player_image_original"),p=dt(c,"string_value","description"),m=dt(c,"string_value","player_url"),I=parseInt(dt(c,"string_value","player_width"),10)/parseInt(dt(c,"string_value","player_height"),10),g=[N.MEDIA,N.DETAILS],T=[N.MEDIA_STATIC,N.DETAILS_SECONDARY];return Et(c)?yt({cardId:s,cardType:l,data:c,cardContext:_,users:d}):{state:A,layout:(t={},t[A]={size:"small"},t[S]={size:"large"},t[O]={size:"small"},t[C]={size:"small"},t),card:{card_name:l,card_url:dt(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:(a={},a[A]=_.tweetId?g:T,a[S]=[N.MEDIA_SECONDARY,N.DETAILS_SECONDARY],a[O]=T,a[C]=[N.MEDIA_STATIC,N.DETAILS_SECONDARY],a),destinations:(n={},n[N.DESTINATION]={type:L.ACTION,data:{action_data:{next_state:S,persist:!1,vanity:dt(c,"string_value",["vanity_url","card_url"])},scribe:"click",promoted_log:"card_url_click"}},n[N.DESTINATION_SECONDARY]={type:L.BROWSER,data:{url_data:{url:dt(c,"string_value","card_url"),vanity:dt(c,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},u?(r={},r[N.IMAGE_ENTITY]=gt(u),r):null,{},m&&_.tweetId?(i={},i[N.IFRAME_ENTITY]={type:"iframe",url:ft(_.tweetId),aspect_ratio:I},i):null),components_data:(o={},o[N.MEDIA]={type:R,data:{id:u?N.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:M},destination:m?N.DESTINATION:N.DESTINATION_SECONDARY}},o[N.MEDIA_SECONDARY]={type:R,data:{id:m?N.IFRAME_ENTITY:null,aspect_ratio:I}},o[N.MEDIA_STATIC]={type:R,data:{id:u?N.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:M},destination:N.DESTINATION_SECONDARY}},o[N.DETAILS]={type:x,data:Object.assign({destination:m?N.DESTINATION:N.DESTINATION_SECONDARY},p?{description:{content:p}}:null,{title:{content:dt(c,"string_value","title")}})},o[N.DETAILS_SECONDARY]={type:x,data:Object.assign({destination:N.DESTINATION_SECONDARY},p?{description:{content:p}}:null,{title:{content:dt(c,"string_value","title")}})},o)}}},Bt=function(e){var t,a,n,r,i,o,s,l,c,_,d=e.cardId,u=e.cardType,p=e.data,m=e.cardContext,I=mt(p,"image_value","image_original"),g=dt(p,"string_value","player_stream_url"),T=mt(p,"image_value","player_image_original"),f=parseInt(dt(p,"string_value","player_width"),10)/parseInt(dt(p,"string_value","player_height"),10),h=dt(p,"string_value","content_duration_seconds"),v=ut(p,"boolean_value","counts_are_final"),E=dt(p,"string_value","selected_choice"),y=dt(p,"string_value","end_datetime_utc"),b=m.viewerUserId===m.tweetUserId,S=function(e){var t=[1,2,3,4].map((function(t){var a=dt(p,"string_value","choice"+t+"_label"),n=dt(p,"string_value","choice"+t+"_count");return a?{index:t,cta:a,count:parseInt(n,10)||0,destination:e}:null})).filter(Boolean);return{type:"poll",data:Object.assign({choices:t,isAuthor:b,isFinal:v,endDatetimeUtc:y},E?{selectedChoice:parseInt(E,10)}:null,{totalVotes:t.reduce((function(e,t){return e+t.count}),0)})}};return{layout:(t={},t[A]={size:"large",chromeless:!0},t),state:A,card:{id:d,card_name:u,card_url:dt(p,"string_value","card_url"),on_visibility:{scribe:"show"},fetch_updates:(a={},a[A]=!v,a),components:(n={},n[A]=I||g?[N.POLL,N.MEDIA]:[N.POLL],n[O]=I||g?[N.POLL_STATIC,N.MEDIA_STATIC]:[N.POLL_STATIC],n),components_data:Object.assign((r={},r[N.POLL]=S(N.DESTINATION),r[N.POLL_STATIC]=S(N.DESTINATION_STATIC),r),I?(i={},i[N.MEDIA]={type:R,data:{id:N.IMAGE_ENTITY}},i[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY}},i):g?(o={},o[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY}},o[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY_STATIC}},o):null),destinations:(s={},s[N.DESTINATION]={type:L.ACTION,data:{action_data:{persist:!0,type:"vote"},auth_required:!0,scribe:"vote",promoted_log:"poll_card_vote"}},s[N.DESTINATION_STATIC]={type:L.BROWSER,data:{url_data:{url:m.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},s),media_entities:Object.assign({},I?(l={},l[N.IMAGE_ENTITY]=gt(I),l):null,{},g?(c={},c[N.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:f,content_id:dt(p,"string_value","player_content_id")||Tt(g)},h?{duration_ms:1e3*parseInt(h,10)}:null,{vmap_url:g,poster_image:T,publisher_id:dt(p,"string_value","player_owner_id")||m.tweetUserId,variants:[{src:dt(p,"string_value","player_hls_url"),type:"application/x-mpegURL"}]}),c):null,{},g?(_={},_[N.IMAGE_ENTITY_STATIC]=gt(T||{}),_):null)}}},Yt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=mt(l,"image_value","promo_image_original");return{state:A,layout:(t={},t[A]={size:"large"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS,N.BUTTON_GROUP],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:{url:dt(l,"string_value",["app_url","card_url"])},scribe:"open_link",promoted_log:"install_app"}},n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(c),r),components_data:(i={},i[N.MEDIA]={type:R,data:{id:N.IMAGE_ENTITY,destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:{destination:N.DESTINATION,title:{content:dt(l,"string_value","title")},footer:"App Store"}},i[N.BUTTON_GROUP]={type:P,data:{buttons:[{index:0,cta:f.getCtaString(dt(l,"string_value","cta_key")),destination:N.DESTINATION}]}},i)}}},Gt=function(e){var t,a,n,r,i,o,s=e.cardId,l=e.cardType,c=e.data,_=e.cardContext,d=dt(c,"string_value","thank_you_url"),u=mt(c,"image_value",["cover_promo_image","promo_image"]),p=mt(c,"image_value","promo_image"),m=dt(c,"string_value","title"),I=function(e){return["one","two","three","four"].map((function(t,a){var n=dt(c,"string_value","cta_"+t),r=dt(c,"string_value","cta_"+t+"_tweet");return n&&r?{icon:"compose",index:a,cta:f.renderTweetActionLabel(n),tweet:r,destination:e}:null})).filter(Boolean)},g=I(N.DESTINATION),T=I(N.DESTINATION_STATIC);return{state:A,layout:(t={},t[A]={size:"large"},t[S]={size:"large"},t),card:{card_name:l,card_url:dt(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:{default:[N.MEDIA,N.DETAILS,N.BUTTON_GROUP],secondary:[N.MEDIA_SECONDARY,N.DETAILS_SECONDARY],static:[N.MEDIA_STATIC,N.DETAILS_STATIC,N.BUTTON_GROUP_STATIC]},destinations:Object.assign((a={},a[N.DESTINATION]={type:L.ACTION,data:{action_data:{next_state:S,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}},a),d?(n={},n[N.DESTINATION_SECONDARY]={type:L.BROWSER,data:{url_data:{url:d,vanity:dt(c,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n):null,(r={},r[N.DESTINATION_STATIC]={type:L.BROWSER,data:{url_data:{url:_.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},r)),media_entities:(i={},i[N.IMAGE_ENTITY]=gt(u),i[N.IMAGE_ENTITY_SECONDARY]=gt(p),i),components_data:(o={},o[N.MEDIA]={type:R,data:{id:N.IMAGE_ENTITY}},o[N.MEDIA_SECONDARY]={type:R,data:{id:N.IMAGE_ENTITY_SECONDARY,destination:N.DESTINATION_SECONDARY}},o[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY,destination:N.DESTINATION_STATIC}},o[N.DETAILS]={type:x,data:Object.assign({},m?{title:{content:m}}:null)},o[N.DETAILS_SECONDARY]={type:x,data:Object.assign({title:{content:dt(c,"string_value","thank_you_text")}},d?{destination:N.DESTINATION_SECONDARY}:null)},o[N.DETAILS_STATIC]={type:x,data:Object.assign({},m?{title:{content:m}}:null)},o[N.BUTTON_GROUP]={type:P,data:{buttons:g}},o[N.BUTTON_GROUP_STATIC]={type:P,data:{buttons:T}},o)}}},Ut=function(e){var t,a,n,r,i,o,s,l=e.cardId,c=e.cardType,_=e.data,d=e.cardContext,u=dt(_,"string_value","thank_you_url"),p=mt(_,"image_value",["cover_player_image_original","player_image_original"]),m=mt(_,"image_value","player_image_original"),I=mt(_,"image_value","cover_promo_image_original"),g=dt(_,"string_value","title"),T=parseInt(dt(_,"string_value","cover_player_width"),10)/parseInt(dt(_,"string_value","cover_player_height"),10),h=parseInt(dt(_,"string_value","player_width"),10)/parseInt(dt(_,"string_value","player_height"),10),v=function(e){return["one","two","three","four"].map((function(t,a){var n=dt(_,"string_value","cta_"+t),r=dt(_,"string_value","cta_"+t+"_tweet");return n&&r?{icon:"compose",index:a,cta:f.renderTweetActionLabel(n),tweet:r,destination:e}:null})).filter(Boolean)},E=v(N.DESTINATION),y=v(N.DESTINATION_STATIC),b=dt(_,"string_value","cover_player_stream_url"),C=dt(_,"string_value","player_stream_url"),D=dt(_,"string_value","player_hls_url"),w=pt(_,"user_value","site"),M=dt(_,"string_value","content_duration_seconds"),k=dt(_,"string_value","cover_content_duration_seconds");return{state:A,layout:(t={},t[A]={size:"large"},t[S]={size:"large"},t[O]={size:"large"},t),card:{card_name:c,card_url:dt(_,"string_value","card_url"),on_visibility:{scribe:"show"},id:l,components:{default:[N.MEDIA,N.DETAILS,N.BUTTON_GROUP],secondary:[N.MEDIA_SECONDARY,N.DETAILS_SECONDARY],static:[N.MEDIA_STATIC,N.DETAILS_STATIC,N.BUTTON_GROUP_STATIC]},destinations:Object.assign((a={},a[N.DESTINATION]={type:L.ACTION,data:{action_data:{next_state:S,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}},a),u?(n={},n[N.DESTINATION_SECONDARY]={type:L.BROWSER,data:{url_data:{url:u,vanity:dt(_,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n):null,(r={},r[N.DESTINATION_STATIC]={type:L.BROWSER,data:{url_data:{url:d.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},r)),media_entities:Object.assign({},b?(i={},i[N.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:T,content_id:Tt(b)},k?{duration_ms:1e3*parseInt(k,10)}:null,{vmap_url:b,poster_image:p,publisher_id:w?w.id_str:d.tweetUserId}),i):null,(o={},o[N.VIDEO_ENTITY_SECONDARY]=Object.assign({type:"video",aspect_ratio:h,content_id:Tt(C)},M?{duration_ms:1e3*parseInt(M,10)}:null,{vmap_url:C,poster_image:m,publisher_id:w?w.id_str:d.tweetUserId},D?{variants:[{src:D,type:"application/x-mpegURL"}]}:null),o[N.IMAGE_ENTITY]=gt(I||{}),o[N.IMAGE_ENTITY_STATIC]=gt(m||{}),o)),components_data:(s={},s[N.MEDIA]={type:R,data:{id:b?N.VIDEO_ENTITY:I?N.IMAGE_ENTITY:N.VIDEO_ENTITY_SECONDARY}},s[N.MEDIA_SECONDARY]={type:R,data:{id:N.VIDEO_ENTITY_SECONDARY}},s[N.MEDIA_STATIC]={type:R,data:{id:m?N.IMAGE_ENTITY_STATIC:N.IMAGE_ENTITY,destination:N.DESTINATION_STATIC,aspect_ratio:m?void 0:1.91}},s[N.DETAILS]={type:x,data:Object.assign({},g?{title:{content:g}}:null)},s[N.DETAILS_SECONDARY]={type:x,data:Object.assign({title:{content:dt(_,"string_value","thank_you_text")}},u?{destination:N.DESTINATION_SECONDARY}:null)},s[N.DETAILS_STATIC]={type:x,data:Object.assign({},g?{title:{content:g}}:null)},s[N.BUTTON_GROUP]={type:P,data:{buttons:E}},s[N.BUTTON_GROUP_STATIC]={type:P,data:{buttons:y}},s)}}},Wt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=e.cardContext,_=mt(l,"image_value","player_image_original"),d=dt(l,"string_value","player_hls_url"),u=parseInt(dt(l,"string_value","player_width"),10)/parseInt(dt(l,"string_value","player_height"),10),p=dt(l,"string_value","content_duration_seconds");return{state:A,layout:(t={},t[A]={size:"large"},t[O]={size:"large"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a[O]=[N.MEDIA_STATIC,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:{url:dt(l,"string_value",["website_shortened_url","website_url","card_url"]),vanity:dt(l,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(_),r[N.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:u,content_id:dt(l,"string_value","player_content_id")||Tt(_.url)},p?{duration_ms:1e3*parseInt(p,10)}:null,{vmap_url:dt(l,"string_value","player_stream_url"),poster_image:_,publisher_id:dt(l,"string_value","player_owner_id")||c.tweetUserId},d?{variants:[{src:d,type:"application/x-mpegURL"}]}:null),r),components_data:(i={},i[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY,aspect_ratio:u}},i[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY,aspect_ratio:u,destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:{destination:N.DESTINATION,title:{content:dt(l,"string_value","title")}}},i)}}},Vt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=mt(l,"image_value","promo_image_original");return{state:A,layout:(t={},t[A]={size:"large"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:{url:dt(l,"string_value",["website_shortened_url","website_url","card_url"]),vanity:dt(l,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(c),r),components_data:(i={},i[N.MEDIA]={type:R,data:{id:N.IMAGE_ENTITY,destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:{destination:N.DESTINATION,title:{content:dt(l,"string_value","title")}}},i)}}},zt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=mt(l,"image_value","thumbnail_image_original"),_=dt(l,"string_value","description");return{state:A,layout:(t={},t[A]={size:"small"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:{url:dt(l,"string_value","card_url"),vanity:dt(l,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},c?(r={},r[N.IMAGE_ENTITY]=gt(c),r):null),components_data:(i={},i[N.MEDIA]={type:R,data:{id:c?N.IMAGE_ENTITY:null,aspect_ratio:1,destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},_?{description:{content:_}}:null,{title:{content:dt(l,"string_value","title")}})},i)}}},Ft=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,c=mt(l,"image_value","summary_photo_image_original"),_=dt(l,"string_value","description");return{state:A,layout:(t={},t[A]={size:c?"large":"small"},t),card:{card_name:s,card_url:dt(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[A]=[N.MEDIA,N.DETAILS],a),destinations:(n={},n[N.DESTINATION]={type:L.BROWSER,data:{url_data:{url:dt(l,"string_value","card_url"),vanity:dt(l,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},c?(r={},r[N.IMAGE_ENTITY]=gt(c),r):null),components_data:(i={},i[N.MEDIA]={type:R,data:{id:c?N.IMAGE_ENTITY:null,aspect_ratio:c?1.91:1,destination:N.DESTINATION}},i[N.DETAILS]={type:x,data:Object.assign({destination:N.DESTINATION},_?{description:{content:_}}:null,{title:{content:dt(l,"string_value","title")}})},i)}}},Ht=function(e){var t,a,n,r,i,o,s,l,c=e.cardId,_=e.cardType,d=e.data,u=At(d),p=u.app_store_data,m=u.components,I=u.component_objects,g=u.destination_objects,T=u.media_entities,h=function(e,t){return Object.keys(e).reduce((function(a,n){var r=e[n];if("app_store_with_docked_media"===r.type||"app_store"===r.type){var i=Nt(t[r.data.app_id]);a[n]={type:"browser",data:{url_data:{url:i?i.url:"https://twitter.com"},scribe:"unified_card_app_store_open_link",promoted_log:"unified_card_component_app_store_click"}}}else a[n]=Object.assign({},r,{data:Object.assign({},r.data,{scribe:"open_link",promoted_log:"unified_card_component_url_click"})});return a}),{})}(g,p),v=m.find((function(e){return I[e]&&"details"===I[e].type})),E=v&&"details"===I[v].type?I[v]:null,y=m.find((function(e){return I[e]&&"app_store_details"===I[e].type})),b=y&&"app_store_details"===I[y].type?I[y]:null,S=function(e,t){var a,n,r=e?e.data.destination:void 0;if(e)if("details"===e.type)a=Object.assign({},e.data.title);else if("app_store_details"===e.type){var i=e.data.app_id,o=Nt(t[i])||{};a=o.title,n=o.category?o.category.content:void 0}return{type:"details",data:{title:a,footer:n,destination:r}}}(E||b||void 0,p),C=v||y,D=m.find((function(e){return I[e]&&"button_group"===I[e].type})),w=D&&"button_group"===I[D].type?{type:P,data:{buttons:I[D].data.buttons.map((function(e,t){return{index:t+1,icon:e.icon_type,destination:e.destination,cta:"cta"===e.type?f.getCtaString(e.action):e.text.content,is_rtl:"custom"===e.type?e.text.is_rtl:void 0}}))}}:null,L=m.find((function(e){return I[e]&&"swipeable_media"===I[e].type})),x=L&&"swipeable_media"===I[L].type?{type:k,data:{media_list:I[L].data.media_list}}:null,j=m.find((function(e){return I[e]&&"media"===I[e].type})),B=j&&"media"===I[j].type?I[j]:null,Y=Object.keys(T).reduce((function(e,t){var a=T[t];return e[t]=Object.assign({},a,{type:"video"===a.type?"uc_video":a.type}),e}),{}),G=B?Y[B.data.id]:null,U=G?G.original_info.width/G.original_info.height:null,W=G&&"uc_video"===G.type?((t={})[N.IMAGE_ENTITY_STATIC]={media_url_https:G.media_url_https,type:"photo",original_info:G.original_info},t):null;return{state:A,layout:(a={},a[A]={size:"large"},a[O]={size:"large"},a),card:{card_name:_,card_url:dt(d,"string_value","card_url"),on_visibility:{scribe:"show"},id:c,components:(n={},n[A]=m,n[O]=W?[].concat(Ce()(m.filter((function(e){return e!==j}))),[N.MEDIA_STATIC]):m,n),destinations:h,media_entities:Object.assign({},Y,{},W),components_data:Object.assign({},S&&C?(r={},r[C]=S,r):null,{},w&&D?(i={},i[D]=w,i):null,{},x&&L?(o={},o[L]=x,o):null,{},B&&j?(s={},s[j]={type:R,data:Object.assign({},B.data)},s):null,{},W&&B?(l={},l[N.MEDIA_STATIC]={type:R,data:Object.assign({destination:B.data.destination},U?{aspect_ratio:U}:null,{id:N.IMAGE_ENTITY_STATIC,overlay:{type:M}})},l):null)}}},qt=function(e){var t,a,n,r,i,o,s,l=e.cardId,c=e.cardType,_=e.data,d=e.cardContext,u=e.users,p=mt(_,"image_value","player_image_original"),m=dt(_,"string_value","player_stream_url"),I=parseInt(dt(_,"string_value","player_width"),10)/parseInt(dt(_,"string_value","player_height"),10),g=dt(_,"string_value","content_duration_seconds"),T=function(e){return[1,2,3,4].map((function(t){var a=dt(_,"string_value","cta"+t),n=dt(_,"string_value","cta"+t+"_wm_id");return a&&n?{icon:"dm",index:t,cta:a,wm_id:n,destination:e}:null})).filter(Boolean)},f=T(N.DESTINATION),h=T(N.DESTINATION_STATIC),v=pt(_,"user_value","recipient"),E=v&&u[v.id_str],y=v.id_str!==d.tweetUserId&&E;return{state:A,layout:(t={},t[A]={size:"large"},t[O]={size:"large"},t),card:{card_name:c,card_url:dt(_,"string_value","card_url"),on_visibility:{scribe:"show"},id:l,components:(a={},a[A]=[N.MEDIA].concat(Ce()(y?[N.DETAILS]:[]),[N.BUTTON_GROUP]),a[O]=[N.MEDIA_STATIC].concat(Ce()(y?[N.DETAILS]:[]),[N.BUTTON_GROUP_STATIC]),a),destinations:(n={},n[N.DESTINATION]={type:L.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:v.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}},n[N.DESTINATION_STATIC]={type:L.BROWSER,data:{url_data:{url:d.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[N.IMAGE_ENTITY]=gt(p||{}),r[N.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:I,content_id:dt(_,"string_value","player_content_id")||Tt(m)},g?{duration_ms:1e3*parseInt(g,10)}:null,{vmap_url:m,poster_image:p,publisher_id:dt(_,"string_value","player_owner_id")||d.tweetUserId,variants:[{src:dt(_,"string_value","player_hls_url"),type:"application/x-mpegURL"}]}),r),components_data:Object.assign((i={},i[N.MEDIA]={type:R,data:{id:N.VIDEO_ENTITY}},i[N.MEDIA_STATIC]={type:R,data:{id:N.IMAGE_ENTITY,destination:N.DESTINATION_STATIC}},i),y?(o={},o[N.DETAILS]={type:x,data:{attribution:E}},o):null,(s={},s[N.BUTTON_GROUP]={type:P,data:{buttons:f}},s[N.BUTTON_GROUP_STATIC]={type:P,data:{buttons:h}},s))}}},Kt=function(e){return It(e,(function(e){return e("player_width").and("player_height").and("amplify_url_vmap").and("amplify_content_id")}))},Xt=function(e){return It(e,(function(e){return e("card_url").and("title")}))},Jt=function(e){return It(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},Zt=function(e){return It(e,(function(e){return e("card_url").and("title").and("partner").and("source")}))},Qt=function(e){return It(e,(function(e){return e("card_url").and("broadcast_id").and("broadcast_title")}))},$t=function(e){return It(e,(function(e){return e("card_url").and("title")}))},ea=function(e){return It(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("image_original")}))},ta=function(e){return It(e,(function(e){return e("card_url").and("event_id").and("event_title")}))},aa=function(e,t){return It(e,(function(e){return e("recipient").and("cta")}))&&t.tweetUserId===pt(e,"user_value","recipient").id_str},na=function(e){return It(e,(function(e){return e("card_url").and((function(e){return e("photo_image").or("cover_format_media_url")})).and("id").and((function(e){return e("title").or("author").or("subcategory_string")}))}))},ra=function(e){return It(e,(function(e){return e("card_url").and("broadcast_width").and("broadcast_height").and("id").and((function(e){return e("broadcaster_twitter_id").or("title")}))}))},ia=function(e){return Et(e)?It(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url").and("player_stream_content_type")})):It(e,(function(e){return e("card_url").and("player_url").and("player_height").and("player_width").and("title")}))},oa=function(e){return It(e,(function(e){return e("choice1_label").and("choice2_label").and("end_datetime_utc").and("counts_are_final").and("api").and("card_url")}))},sa=function(e){return It(e,(function(e){return e("card_url").and("title").and("promo_image_original").and("cta_key")}))},la=function(e){return It(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("promo_image").and("cta_one").and("cta_one_tweet")}))},ca=function(e){return It(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("cta_one").and("cta_one_tweet").and("player_width").and("player_height").and("player_stream_url")}))},_a=function(e){return It(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},da=function(e){return It(e,(function(e){return e("card_url").and("title").and("promo_image_original")}))},ua=function(e){return It(e,(function(e){return e("card_url").and("title")}))},pa=function(e){return It(e,(function(e){return e("card_url").and("title")}))},ma=function(e){var t=At(e);return!!(t&&t.components&&t.component_objects&&t.components.length&&t.components.every((function(e){return t.component_objects[e]&&t.component_objects[e].type in bt})))},Ia=function(e){return It(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("player_width").and("player_height").and("player_stream_url")}))},ga=function(e,t,a){var n,r=(n={},n[b.AMPLIFY]=Kt,n[b.APP]=Xt,n[b.APPPLAYER]=Jt,n[b.AUDIO]=Zt,n[b.BROADCAST]=Qt,n[b.DIRECT_STORE_LINK_APP]=$t,n[b.IMAGE_DIRECT_MESSAGE]=ea,n[b.LIVE_EVENT]=ta,n[b.MESSAGE_ME]=aa,n[b.MOMENT]=na,n[b.PERISCOPE_BROADCAST]=ra,n[b.PLAYER]=ia,n[b.POLL_2_CHOICE_TEXT]=oa,n[b.POLL_3_CHOICE_TEXT]=oa,n[b.POLL_4_CHOICE_TEXT]=oa,n[b.POLL_2_CHOICE_IMAGE]=oa,n[b.POLL_3_CHOICE_IMAGE]=oa,n[b.POLL_4_CHOICE_IMAGE]=oa,n[b.POLL_2_CHOICE_VIDEO]=oa,n[b.POLL_3_CHOICE_VIDEO]=oa,n[b.POLL_4_CHOICE_VIDEO]=oa,n[b.PROMO_IMAGE_APP]=sa,n[b.PROMO_IMAGE_CONVO]=la,n[b.PROMO_VIDEO_CONVO]=ca,n[b.PROMO_VIDEO_WEBSITE]=_a,n[b.PROMO_WEBSITE]=da,n[b.SUMMARY]=ua,n[b.SUMMARY_LARGE_IMAGE]=pa,n[b.UNIFIED_CARD]=ma,n[b.VIDEO_DIRECT_MESSAGE]=Ia,n)[e];return!!r&&r(t,a)},Ta=((st={})[b.AMPLIFY]=St,st[b.APP]=Ot,st[b.APPPLAYER]=Ct,st[b.AUDIO]=Dt,st[b.BROADCAST]=wt,st[b.DIRECT_STORE_LINK_APP]=Mt,st[b.IMAGE_DIRECT_MESSAGE]=Lt,st[b.LIVE_EVENT]=Rt,st[b.MESSAGE_ME]=xt,st[b.MOMENT]=Pt,st[b.PERISCOPE_BROADCAST]=kt,st[b.PLAYER]=jt,st[b.POLL_2_CHOICE_TEXT]=Bt,st[b.POLL_3_CHOICE_TEXT]=Bt,st[b.POLL_4_CHOICE_TEXT]=Bt,st[b.POLL_2_CHOICE_IMAGE]=Bt,st[b.POLL_3_CHOICE_IMAGE]=Bt,st[b.POLL_4_CHOICE_IMAGE]=Bt,st[b.POLL_2_CHOICE_VIDEO]=Bt,st[b.POLL_3_CHOICE_VIDEO]=Bt,st[b.POLL_4_CHOICE_VIDEO]=Bt,st[b.PROMO_IMAGE_APP]=Yt,st[b.PROMO_IMAGE_CONVO]=Gt,st[b.PROMO_VIDEO_CONVO]=Ut,st[b.PROMO_VIDEO_WEBSITE]=Wt,st[b.PROMO_WEBSITE]=Vt,st[b.SUMMARY]=zt,st[b.SUMMARY_LARGE_IMAGE]=Ft,st[b.UNIFIED_CARD]=Ht,st[b.VIDEO_DIRECT_MESSAGE]=qt,st),fa=function(e,t){var a=e.binding_values,n=e.name,r=e.url,i=e.users,o=void 0===i?{}:i,s=Ta[n];return ga(n,a,t)&&s?s({cardId:r,cardType:n,data:a,cardContext:t,users:o}):null},ha="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/Card/index.js",va=function(e){function t(t){var a;a=e.call(this,t)||this,p()(c()(a),"_updateCardState",(function(e){a.setState({state:e})})),p()(c()(a),"_scribeCardAction",(function(e){var t=e.action,n=e.componentType,r=e.ctaIndex,i=e.isAuthRequired,o=a.state.card,s=a.props.onScribeEvent;o&&s&&s({action:t,componentType:n,cardName:o.card_name,cardUrl:o.card_url,ctaIndex:r,isMessageMe:o.card_name===b.MESSAGE_ME,isAuthRequired:i})})),p()(c()(a),"_requestCardUpdate",(function(){var e=a.props.requestCardUpdate,t=a.state.card;e&&t&&e({url:t.id,name:t.card_name})}));var n=a._convertCard(t);return n&&(a.state=n),a}d()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this.state.card;e&&this._scribeCardAction({action:e.on_visibility.scribe,componentType:"card"})},a.componentWillReceiveProps=function(e){this.setState(this._convertCard(e))},a.render=function(){var e=this.state,a=e.card,n=e.state,r=this.props,o=r.cardContext,s=r.isDataSaverEnabled,l=r.isPromoted,c=r.onPollVote,_=r.onPromotedLogEvent,d=r.onScribeEvent,u=r.requestCardUpdate;if(!a)return null;var p=this._getCurrentLayout(),m=this._getDetailData(),g=this._getMediaData(),T=this._getPollData(),f=this._getButtonsData(),h=this._getSwipeableMediaData(),E=a.fetch_updates,y=this.props.withInteractiveStyling&&!(!m||!m.destination),b=Object.assign({locationKey:o.locationKey,withInteractiveStyling:y},m?{details:m}:null,{},g?{media:g}:null),N=u&&E&&E[n],A=g&&g.mediaEntity&&"photo"===g.mediaEntity.type,S="small"===p.size||s&&m&&!f&&A&&!l;return I.a.createElement(t.Context.Provider,{value:{card:a,isDataSaverEnabled:s,isPromoted:l,onPollVote:c,onPromotedLogEvent:_,onScribeEvent:d,scribeCardAction:this._scribeCardAction,updateCardState:this._updateCardState},__source:{fileName:ha,lineNumber:165},__self:this},N?I.a.createElement(v,{requestCardUpdate:this._requestCardUpdate,__source:{fileName:ha,lineNumber:177},__self:this}):null,S?I.a.createElement(ct,i()({},b,{reverse:p.reverse,__source:{fileName:ha,lineNumber:179},__self:this})):I.a.createElement(rt,i()({},b,f?{buttons:f}:null,h?{swipeableMedia:h}:null,T?{poll:T}:null,{chromeless:p.chromeless,renderVideoPlayer:this.props.renderVideoPlayer,__source:{fileName:ha,lineNumber:181},__self:this})))},a._getCurrentLayout=function(){var e=this.state,t=e.layout,a=e.state;return t[this.props.isDataSaverEnabled?C:a]||t[A]},a._getButtonsData=function(){var e=this._getComponent("button_group");return e?e.data.buttons:null},a._getSwipeableMediaData=function(){var e=this.state.card,t=this._getComponent("swipeable_media"),a=t&&t.data;return a&&a.media_list?a.media_list.map((function(t){return Object.assign({},t,{media_entity:t&&t.id&&e?e.media_entities[t.id]:void 0})})):null},a._getDetailData=function(){var e=this._getComponent("details"),t=e&&e.data;if(!t)return null;if(t.destination){var a=this._getVanityText(t.destination);t.vanity=a||void 0}return t},a._getMediaData=function(){var e=this.state.card,t=this._getComponent("media"),a=t&&t.data,n=a&&a.id&&e?e.media_entities[a.id]:void 0,r=a&&a.overlay,i=a&&a.aspect_ratio;return a?Object.assign({},a.destination?{destination:a.destination}:null,{aspect_ratio:i,mediaEntity:n,overlay:r}):null},a._getPollData=function(){var e=this._getComponent("poll");return e?e.data:null},a._getComponent=function(e){var t=this.state,a=t.card,n=t.state,r=this.props.isDataSaverEnabled;if(!a)throw new Error("No card data available");var i=r?C:n,o=(a.components[i]||a.components[A]).map((function(e){return a.components_data[e]})).find((function(t){return t.type===e}));return o||void 0},a._getVanityText=function(e){var t=this.state.card;if(t){var a=t.destinations[e];if(a)switch(a.type){case L.BROWSER:case L.BROWSER_WITH_DOCKED_MEDIA:case L.BROWSER_WITH_MEDIA:return a.data.url_data.vanity;case L.ACTION:return a.data.action_data.vanity;default:return}}},a._convertCard=function(e){var t=e.card,a=e.cardState,n=e.cardContext,r=fa(t,n),i=a||!!this.state&&this.state.state||r&&r.state||void 0;return Object.assign({},r,{state:i})},t}(I.a.Component);p()(va,"defaultProps",{isDataSaverEnabled:!1,isPromoted:!1,withInteractiveStyling:!0}),p()(va,"Context",I.a.createContext(Object.freeze({}))),va.propTypes={};var Ea=va,ya=a("SMZj"),ba=a("Tb0w"),Na=a("6rlp"),Aa=a("vjRr"),Sa=a("oEGd"),Oa=a("0KEI"),Ca=a("peh1"),Da=a("zh9S"),wa=a("P1r1"),Ma=a("oEOe"),La=a("/kEJ"),Ra=Ma.a("rweb/cards",""),xa=function(e,t){var a=e.pre_live_slate_url,n=e.scheduled_start_ms,r=e.state,i=e.status,o=e.twitter_user_id,s=e.user_display_name,l=t.hw_card_binding_values;return{hw_card_binding_values:Object.assign({},l,{broadcast_state:{type:"STRING",string_value:r},broadcast_title:{type:"STRING",string_value:i},site:{type:"USER",user_value:{id_str:o}},broadcaster_display_name:{type:"STRING",string_value:s},broadcast_scheduled_start_time:{type:"STRING",string_value:n}},a?{broadcast_pre_live_slate:{type:"IMAGE",image_value:{url:a}}}:null)}},Pa=Object(Ca.createSelector)((function(e,t){return t.cardState||ba.b(e,t.card.url)}),wa.i,(function(e,t){return t.card.binding_values.broadcast_id&&t.card.binding_values.broadcast_id.string_value}),(function(e,t,a){return{cardState:e,isDataSaverEnabled:t,broadcastId:a}})),ka={createLocalApiErrorHandler:Object(Oa.b)("CARD_CONTAINER"),scribeAction:Da.c,requestCardUpdate:Aa.a.fetchOne,log:Na.a,updateBroadcastCard:function(e,t){return function(a,n,r){var i=r.api;return Ma.b(a,{params:{ids:[t]},request:i.Broadcasts.fetchBroadcast})({actionTypes:Ra,context:"FETCH_BROADCAST",meta:{}},(function(t){if(t){var a,r=t.result.broadcasts[0],i=t.entities.broadcasts[r],o=Aa.a.select(n(),e);if(!o)return[];var s=xa(i,o);return[Object(La.c)({cards:(a={},a[e]=Object.assign({},s),a)})]}}))}},vote:Aa.a.vote},ja=Object(Sa.f)(Pa,ka),Ba=a("7JQg"),Ya=a("TrHT"),Ga=function(e,t,a){switch(e){case"card_url_click":return{event:"card_url_click"};case"install_app":return{event:"install_app"};case"dm_button_click":return{event:"card_url_click",engagement_metadata:JSON.stringify({direct_message_card_details:{button_index:a}})};case"convo_button_click":return{event:"card_url_click",engagement_metadata:JSON.stringify({conversational_card_details:{button_index:a}})};case"poll_card_vote":return{event:"poll_card_vote"};case"unified_card_component_url_click":return Object.assign({event:"unified_card",uc_event:JSON.stringify({event:"click",component:t,destination:"browser"})},"button_group"===t?{engagement_metadata:JSON.stringify({uc_button_group_details:{button_index:a}})}:null);case"unified_card_component_app_store_click":return{event:"unified_card",uc_event:JSON.stringify({event:"click",component:"details"===t?"app_store_details":t,destination:"app_store"}),engagement_metadata:JSON.stringify({uc_event_metadata:Object.assign({app_event:"install_app"},"button_group"===t?{button_index:a}:null)})};default:return null}},Ua=a("YryT"),Wa=a.n(Ua),Va=a("Zb1g"),za=a("nT9l"),Fa=a("zJgq"),Ha=!1,qa=Wa.a.fb79efe3,Ka=Wa.a.daeffc96,Xa=Wa.a.a0fdf14a,Ja=Wa.a.aff03b01,Za=Wa.a.g66535d9,Qa=Wa.a.bc305387,$a=Wa.a.f71cfb85,en=Wa.a.b1ac5af7,tn=Wa.a.e2ad5ae4,an=Wa.a.j7f394d9,nn=Wa.a.fba9ea70,rn=Wa.a.b79ffef4,on=Wa.a.i7c776d5,sn=Wa.a.fc209bb7,ln=Fa.a.isIOS()?"ios":Fa.a.isAndroid()?"android":"other",cn={},_n=function(e){if(cn[e])return cn[e];var t=g.a.createLayoutCache();return cn[e]=t,t},dn=function(e){return function(t,a,n){var r=0===t.indexOf("card://"),i=a||!r?""+(a||"")+(a&&!r?" ":"")+(r?"":t):null;e.push(Object.assign({pathname:"/compose/tweet"},i?{query:{text:i}}:null,{state:{convoCardData:{cardId:t,cardUrl:r?t:null,nextState:n}}}))}};function un(e){var t,a;Ha||(Ha=!0,h.init((t=e,a=t.history,[{composeDirectMessage:function(e){var t=e.recipient,n=e.welcomeMessageId,r=e.messageText;a.push({pathname:"/messages/compose",query:Object.assign({recipient_id:t},n?{welcome_message_id:n}:null,{},r?{text:r}:null)})},composeTweet:dn(a),getFetchIntervalSeconds:function(){return 30},getCtaString:function(e){switch(e){case"play":return qa;case"shop":return Ka;case"book":return Xa;case"connect":return Ja;case"order":return Za;case"open":return Qa;case"install":default:return $a}},getMessageMeString:function(e){switch(e){case"message_me_card_cta_1":return en;case"message_me_card_cta_3":return an;case"message_me_card_cta_4":return nn;case"message_me_card_cta_2":default:return tn}},getMobileOS:function(){return ln},renderImage:function(e,t,a,n,r){var i=e.uri,o=e.width,s=e.height,l=n?_n(n):void 0,c=function(e){var a=e.useMinimumData;return m.createElement(g.a,{accessibilityLabel:"",aspectMode:T.a.exact(t||1),cropCandidates:r,image:{url:i,width:o||1e3,height:s||1e3},layoutCache:l,previewMode:a})};return"preview"===a?m.createElement(za.a,{acceptLabel:on,renderContent:c,resourceId:i}):c({useMinimumData:!1})},renderTwemojiText:function(e){return m.createElement(ge.a,null,e)},renderNumVotesLabel:function(e){return Va.d({count:e,formattedCount:Va.c(e)})},renderFinalResultsLabel:function(){return Va.a},renderTimeLeftLabel:function(e){return Va.b(e)},renderStartingTimeLabel:function(e){var t=new Date(parseInt(e,10));return rn({date:sn(t)})}}])[0]))}var pn=a("ZxDS"),mn=a("v6aA"),In=a("TzCa"),gn=a("cFuS"),Tn=a("Rp9C"),fn=a("Jkc4"),hn=a("XOJV"),vn=function(e,t){return t.media_tweet_id},En={createLocalApiErrorHandler:Object(Oa.b)("EVENT_CARD_CONTEXT"),fetchTweetIfNeeded:hn.a.fetchOneIfNeeded},yn=Object(Ca.createSelector)((function(e,t){var a=vn(0,t);return a?hn.a.selectFetchStatus(e,a):void 0}),(function(e,t){var a=vn(0,t);return a?hn.a.selectHydrated(e,a):void 0}),(function(e,t){return{videoTweetFetchStatus:e,videoTweet:t}})),bn=Object(Sa.f)(yn,En),Nn=a("v//M"),An=a("W5XZ"),Sn=a("fUT7"),On=a("Modb"),Cn=a("GVMG"),Dn=Wa.a.f0a19192,wn=bn(function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(c()(t),"_renderInlinePlayer",(function(){var e=t.props,a=e.aspect_ratio,n=e.event_id,r=e.media_tweet_id,o=e.poster_image,s=e.videoTweet,l=s&&s.extended_entities&&s.extended_entities.media&&s.extended_entities.media[0],c=Cn.b.forTweet(r);return l?m.createElement(On.a,i()({},Object(Ya.a)(c,l,n),{aspectRatio:a,poster:o})):null})),p()(c()(t),"_handleFetchTweet",(function(){var e=t.props,a=e.createLocalApiErrorHandler,n=e.fetchTweetIfNeeded,r=e.media_tweet_id;Sn.a.preload(),n(r).catch(a(An.a))})),t}d()(t,e);var a=t.prototype;return a.componentDidMount=function(){this._handleFetchTweet()},a.render=function(){var e=this.props,t=e.aspect_ratio,a=e.media_tweet_id,n=e.videoTweetFetchStatus;return a?m.createElement(E.a,{ratio:t},m.createElement(H.a,{style:z.a.absoluteFill},m.createElement(Nn.a,{accessibilityLabel:Dn,fetchStatus:n,onRequestRetry:this._handleFetchTweet,render:this._renderInlinePlayer}))):null},t}(m.Component)),Mn=a("TnY3");a.d(t,"HWCard",(function(){return Pn}));var Ln=Object(pn.c)(window),Rn=Wa.a.j67b44cd,xn={objectFitVideo:"cover"},Pn=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,p()(c()(n),"_getCardState",(function(){var e=n.props,t=e.cardState,a=e.card;return"player"!==a.name&&"audio"!==a.name||!Ln?t:"static"})),p()(c()(n),"_updateBroadcastCard",(function(e){var t=e.url,a=n.props,r=a.broadcastId,i=a.updateBroadcastCard;return r?i(t,r):void 0})),p()(c()(n),"_handleRequestCardUpdate",(function(){var e=n.context.loggedInUserId,t=n.props,a=t.card,r=t.requestCardUpdate;return a.name===ya.c.TwitterBroadcast?n._updateBroadcastCard:e?r:void 0})),p()(c()(n),"_handlePromotedLogEvent",(function(e){var t=e.action,a=e.componentType,r=e.buttonIndex,i=e.isAuthRequired,o=n.props,s=o.createLocalApiErrorHandler,l=o.cardContext,c=o.log,_=o.promotedContent,d=n.context.loggedInUserId;if((!i||d)&&_&&l){var u=_.disclosure_type,p=_.impression_id;c({disclosureType:u,itemId:l.tweetId,itemType:gn.c.TWEET,params:Object.assign({impression_id:p},Ga(t,a,r))}).catch(s())}})),p()(c()(n),"_handleScribeEvent",(function(e){var t=e.action,a=e.componentType,r=e.cardName,i=e.cardUrl,o=e.ctaIndex,s=e.isMessageMe,l=e.isAuthRequired,c=n.props,_=c.scribeAction,d=c.scribeNamespace,u=c.cardContext,p=c.promotedContent,m=n.context.loggedInUserId,I="unified_card_app_store_open_link"===t?"open_link":t,g=p&&"earned"!==p.disclosure_type?p.impression_id:void 0;l&&!m||_(Object.assign({},d,{action:I}),{items:[Tn.a.getHWCardItem(Object.assign({componentType:a,cardName:r,cardUrl:i,ctaIndex:o},u&&u.tweetId?{tweetId:u.tweetId}:null,{},u&&u.tweetUserId?{tweetUserId:u.tweetUserI}:null,{},s?{viewingUserId:m}:null,{isUCAppInstall:"unified_card_app_store_open_link"===t,impressionId:g}))]})})),p()(c()(n),"_handlePollVote",(function(e){var t=e.choice,a=e.cardId,r=n.props,i=r.cardContext.tweetId;(0,r.vote)(a,{selectedIndex:t,tweetId:i})})),p()(c()(n),"_renderVideoPlayer",(function(e,t){var a=n.props,r=a.cardContext.tweetId,o=a.promotedContent,l=(o||{}).impression_id;if("live_broadcast"===e.type){var c=e.broadcast_id,_=e.aspect_ratio,d=e.content_id,u=e.poster_image,p=e.timecode;return m.createElement(On.a,{accessibilityLabel:Rn,aspectRatio:_,customOverlay:In.a,displayOptions:xn,forceFullPreviewImage:"suboptimal"===t,poster:u,promotedContent:o,source:{contentId:d,videoId:Cn.b.forBroadcast(c,r,l)},timecode:p,videoType:"video"})}if("tweet_video"===e.type)return m.createElement(wn,e);if("uc_video"===e.type){e.type;var I=e.original_info,g=s()(e,["type","original_info"]),T=Object(Ya.a)(Cn.b.forTweet(r,l),Object.assign({},g,{original_info:Object.assign({},I),type:"video"})),f=(T.accessibilityLabel,T.backgroundColor,T.primaryBadge,T.secondaryBadge,s()(T,["accessibilityLabel","backgroundColor","primaryBadge","secondaryBadge"]));return m.createElement(On.a,i()({forceFullPreviewImage:"suboptimal"===t},f,{accessibilityLabel:Rn,promotedContent:o}))}var h=e.aspect_ratio,v=e.content_id,E=e.duration_ms,y=e.poster_image,b=e.variants,N=e.vmap_url;return m.createElement(On.a,{accessibilityLabel:Rn,aspectRatio:h,durationMs:E,forceFullPreviewImage:"suboptimal"===t,poster:y,promotedContent:o,source:Object.assign({contentId:v},b?{variants:b.map((function(e){return{content_type:e.type,url:e.src}}))}:null,{videoId:{type:"tweet",id:r},vmapUrl:N}),videoType:"vine"===e.type?"vine":"video"})})),un({history:t.history}),n}return d()(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.isDataSaverEnabled,n=t.promotedContent;return m.createElement(fn.a,null,(function(t){return m.createElement(Ea,i()({},e.props,{cardState:e._getCardState(),isDataSaverEnabled:a,isPromoted:!!n,onPollVote:t(e._handlePollVote),onPromotedLogEvent:e._handlePromotedLogEvent,onScribeEvent:e._handleScribeEvent,renderVideoPlayer:e._renderVideoPlayer,requestCardUpdate:e._handleRequestCardUpdate()}))}))},t}(m.Component);p()(Pn,"contextType",mn.a);t.default=Object(Ba.d)({element:"platform_card"})(ja(Object(Mn.a)(Pn)))},lvtm:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.HWCard.3a17d3c4.js.map