(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{"0af8":function(e,t,n){"use strict";n.r(t),n.d(t,"roundToNearestDevicePixel",(function(){return O})),n.d(t,"default",(function(){return w}));var i=n("PJYZ"),o=n.n(i),r=n("VbXa"),a=n.n(r),s=n("lSNA"),c=n.n(s),l=n("q1tI"),d=n("n+l9"),u=n("i8i4"),f=n.n(u),p=n("Yib4"),h=n("17x9"),m=n("dxyr"),_=n("DpuJ"),v=n("lPEy"),b=n.n(v),y=n("Epja"),g=n.n(y),O=function(e){var t=e.cssPixels,n=e.dpr;return Math.round(t*n)/n},w=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,c()(o()(i),"_setContentRef",(function(e){i._contentRef=f.a.findDOMNode(e)})),c()(o()(i),"_setContainerRef",(function(e){i._containerRef=f.a.findDOMNode(e)})),c()(o()(i),"_handleProgrammaticScroll",(function(e){i._prevScrollY=(i._prevScrollY||0)+e,i.setState({contentOffset:Math.max(0,i.state.contentOffset+e)})})),c()(o()(i),"_handleLayout",(function(e){var t=e.nativeEvent.layout.height>i.state.contentHeight;i._updatePositioning(t)})),i.state={stickyTop:!0,stickyThreshold:0,contentOffset:0,contentHeight:0,stickyOffset:0,position:d.b()?"sticky":"static"},i._scheduleUpdatePositioning=Object(m.a)(i._updatePositioning.bind(o()(i)),window.requestAnimationFrame),i}a()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.context.viewport;this._removeProgrammaticScrollListener=e.addProgrammaticScrollListener(this._handleProgrammaticScroll)},n.componentDidMount=function(){var e=this.context.viewport;this._updatePositioning(),this._removeScrollListener=e.addScrollListener(this._scheduleUpdatePositioning);var t=this._containerRef.getBoundingClientRect(),n=e.scrollY();this._prevScrollY=n,this.setState({stickyOffset:n+t.top})},n.componentWillUnmount=function(){this._removeScrollListener&&this._removeScrollListener(),this._removeProgrammaticScrollListener&&this._removeProgrammaticScrollListener()},n.render=function(){var e=this.state,t=e.stickyTop,n=e.stickyThreshold,i=e.contentOffset,o=e.position,r=E[o],a=window.devicePixelRatio||1,s=O({cssPixels:n,dpr:a}),c=O({cssPixels:i,dpr:a}),d={top:t?s+"px":null,bottom:t?null:s+"px"};return l.createElement(g.a,{ref:this._setContainerRef,style:[E.container,{minHeight:this.state.contentHeight}]},l.createElement(g.a,{style:{marginTop:c+"px"}}),l.createElement(g.a,{onLayout:this._handleLayout,ref:this._setContentRef,style:[this.props.style,d,r]},this.props.children))},n._updatePositioning=function(e){if(void 0===e&&(e=!1),this._contentRef&&this._containerRef){var t=this.context.viewport.scrollY(),n=t-this._prevScrollY;if(!(Math.abs(n)<.5)||e){var i=this.props.distanceFromBottom;this._prevScrollY=t;var o=this._contentRef.getBoundingClientRect(),r=this._containerRef.getBoundingClientRect(),a=b.a.get("window").height,s=t+r.top,c=Math.max(o.top-r.top,0);if(a-o.height>s&&!Object(p.a)())this._updateState({stickyTop:!0,stickyThreshold:s,contentOffset:0,stickyOffset:s,contentHeight:o.height,position:"fixed"});else{var l=n>0,u=l!==this.state.stickyTop,f=window.devicePixelRatio||1,h=o.bottom-a+i<=1/f,m=s-o.top<=1/f;if((l&&h||!l&&m)&&d.a()){var _=i,v=s;this._updateState({position:"fixed",stickyOffset:s,stickyTop:m,stickyThreshold:m?v:_,contentOffset:c,contentHeight:o.height})}else{var y=a-o.height-i,g=a-o.height-s,O=d.b()?"sticky":"static";this._updateState({position:O,stickyTop:l,stickyOffset:s,stickyThreshold:l?y:g,contentOffset:u?c:this.state.contentOffset,contentHeight:o.height})}}}}},n._updateState=function(e){var t=this.state.stickyTop!==e.stickyTop,n=this.state.stickyThreshold!==e.stickyThreshold,i=Math.abs(this.state.contentOffset-e.contentOffset)>.5,o=Math.abs(this.state.stickyOffset-e.stickyOffset)>.5,r=this.state.position!==e.position,a=this.state.contentHeight!==e.contentHeight;(t||n||i||o||r||a)&&this.setState(e)},t}(l.PureComponent);c()(w,"contextTypes",{viewport:h.object.isRequired}),c()(w,"defaultProps",{distanceFromBottom:10});var E=_.a.create((function(e){return{container:{height:"100%"},sticky:{position:"sticky"},fixed:{position:"fixed"},static:{position:"static"}}}))},LHcr:function(e,t,n){"use strict";n.r(t);n("91GP");var i=n("PJYZ"),o=n.n(i),r=n("VbXa"),a=n.n(r),s=n("lSNA"),c=n.n(s),l=n("q1tI"),d=n("7JQg"),u=n("kGix"),f=n("v//M"),p=n("YryT"),h=n.n(p),m=n("Rp9C"),_=n("DpuJ"),v=n("Epja"),b=n.n(v),y=(n("17x9"),n("zh9S")),g=n("lP98"),O=n("RqPI"),w=n("oEGd"),E=n("0KEI"),N=n("peh1"),R=n("G6rE"),T=function(e,t){return O.h(e)},I=function(e,t){return t.userId},S=Object(N.createSelector)((function(e,t){var n=I(0,t),i=T(e);return g.b(e,{displayLocation:"profile_accounts_sidebar",similarToUserId:n===i?void 0:n})}),T,(function(e,t){var n=I(0,t),i=T(e);return g.c(e,{displayLocation:"profile_accounts_sidebar",similarToUserId:n===i?void 0:n})}),(function(e,t){var n=R.e.select(e,t.userId);return n&&n.screen_name}),(function(e,t,n,i){return{fetchStatus:e,loggedInUserId:t,recommendations:n,screenName:i}})),L={createLocalApiErrorHandler:Object(E.b)("WHO_TO_FOLLOW_CONTAINER"),fetchRecommendationsIfNeeded:g.a,scribeAction:y.c},x=Object(w.f)(S,L),j=n("NxHW"),P=n("Re5t"),k=n("hqDb"),U=n("hxu0"),H=n("TcpU"),D=n("VCYv"),C=h.a.da31f17e,A=h.a.d5ee4403,F=h.a.e05b3b2d,M=3,B=Object(d.d)({component:"who_to_follow"})(Object(U.a)((function(e){var t=e.withProfileHeaderText,n=e.screenName,i=e.userIds,o=e.isInSidebar,r=i.length>M,a="/"+n+"/who_to_follow";return l.createElement(b.a,{accessibilityLabel:C,accessibilityRole:"complementary"},l.createElement(H.a,{text:t?A:C}),l.createElement(k.a,{displayMode:P.a.UserCompact,userIds:i.slice(0,M),withItemBorder:!0}),r&&l.createElement(D.a,{interactiveStyles:o?Object(j.a)():void 0,link:a,text:F}))})));n.d(t,"WhoToFollowContainer",(function(){return W}));var Y=h.a.f80c522b,q={component:"suggest_who_to_follow",element:"user",action:"results"},W=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,c()(o()(t),"_renderContent",(function(){var e=t.props,n=e.recommendations,i=e.screenName,o=e.userId,r=e.withProfileHeaderText,a=n&&n.map((function(e){return e.user}));return i?l.createElement(B,{screenName:i,userId:o,userIds:a,withProfileHeaderText:r}):null})),c()(o()(t),"_handleImpression",(function(e){var n=t.props,i=n.scribeAction,o=n.scribeNamespace;i(Object.assign({},o,{},q),{items:e&&e.slice(0,M).map((function(e){return Object.assign({},m.a.forUser(e.user),{suggestion_details:{source_data:e.token}})}))})})),t}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.recommendations;this._fetchRecommendations(this.props),e&&e.length>0&&this._handleImpression(e)},n.componentDidUpdate=function(e){var t=this.props.recommendations;this.props.userId!==e.userId&&this._fetchRecommendations(this.props),t!==e.recommendations&&t&&t.length>0&&this._handleImpression(t)},n.render=function(){var e=this.props,t=e.fetchStatus,n=e.style;return t===u.a.FAILED||this._hasEmptySuggestionList()?null:l.createElement(b.a,{style:[z.root,n]},l.createElement(f.a,{accessibilityLabel:Y,fetchStatus:t,render:this._renderContent}))},n._fetchRecommendations=function(e){var t=e.createLocalApiErrorHandler,n=e.fetchRecommendationsIfNeeded,i=e.userId;n({limit:4,displayLocation:"profile_accounts_sidebar",similarToUserId:i!==e.loggedInUserId?i:void 0}).catch(t({}))},n._hasEmptySuggestionList=function(){var e=this.props,t=e.fetchStatus,n=e.recommendations;return t===u.a.LOADED&&0===n.length},t}(l.PureComponent),z=_.a.create((function(e){return{root:{minHeight:"15rem"}}}));t.default=Object(d.d)()(x(W))},lP98:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y}));n("VRzm"),n("Btvt"),n("91GP");var i,o=n("/kEJ"),r=n("oEOe"),a=n("t33a"),s=n.n(a),c=n("kGix"),l=n("Ssj5"),d="rweb/recommendations/FETCH_REQUEST",u="rweb/recommendations/FETCH_SUCCESS",f="rweb/recommendations/FETCH_FAILURE",p={},h=function(e){var t=e.displayLocation,n=e.similarToUserId;return t+(n?"_"+n:"")};l.a.register(((i={}).recommendations=function(e,t){if(void 0===e&&(e=p),!t.meta)return e;switch(t.type){case d:var n,i=h(t.meta);return Object.assign({},e,((n={})[i]=Object.assign({},e[i],{fetchStatus:c.a.LOADING}),n));case f:var o,r=h(t.meta);return Object.assign({},e,((o={})[r]=Object.assign({},e[r],{fetchStatus:c.a.FAILED}),o));case u:var a,l=h(t.meta),m=t.payload&&t.payload.entities?t.payload.entities:{recommendations:s.a},v=(t.payload&&t.payload.result?t.payload.result:_).map((function(e){return m.recommendations[e]}));return Object.assign({},e,((a={})[l]=Object.assign({},e[l],{fetchStatus:c.a.LOADED,recommendations:v}),a));default:return e}},i));var m=[],_=[],v=function(e,t){var n=t.displayLocation,i=t.similarToUserId,o=e.recommendations[h({displayLocation:n,similarToUserId:i})];return o&&o.recommendations?o.recommendations:m},b=function(e,t){var n=t.displayLocation,i=t.similarToUserId,o=e.recommendations[h({displayLocation:n,similarToUserId:i})];return o?o.fetchStatus:c.a.NONE},y=function(e){return function(t,n,i){var a=n(),l=e.displayLocation,p=e.similarToUserId,h=v(a,{displayLocation:l,similarToUserId:p}),m=b(a,{displayLocation:l,similarToUserId:p})===c.a.LOADED;return h&&m?Promise.resolve(s.a):t(function(e){return function(t,n,i){var a=i.api,s=e.displayLocation,c=e.itsInterests,l=e.limit,p=void 0===l?30:l,h=e.similarToUserId;return Object(r.b)(t,{params:{display_location:s,itsInterests:c,limit:p,user_id:h},request:a.Recommendations.fetch})({actionTypes:{REQUEST:d,SUCCESS:u,FAILURE:f},context:"FETCH_RECOMMENDATIONS",meta:{displayLocation:s,similarToUserId:h}},(function(e){if(e)return[Object(o.c)(e.entities)]}))}}(e))}}},sAnO:function(e,t,n){"use strict";n.r(t);var i=n("pVnL"),o=n.n(i),r=(n("hEkN"),n("DW2E"),n("PJYZ")),a=n.n(r),s=n("VbXa"),c=n.n(s),l=n("lSNA"),d=n.n(l),u=(n("91GP"),n("q1tI")),f=n.n(u),p=n("BfEF"),h=n("dxyr"),m=n("AuFF"),_=n("mgjn"),v=n("YdiA"),b=n("5SQo"),y=n("O0D7"),g=n("i8i4"),O=n.n(g),w=n("hvfX"),E=n("DpuJ"),N=n("lPEy"),R=n.n(N),T=n("AzFT"),I=n.n(T),S=n("Epja"),L=n.n(S),x="/Users/vjolissaint/workspace/source2/javascript-modules/@twitter/horizon-web/src/exports/Dropdown/index.js",j=E.a.create((function(e){return{rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:"calc("+e.spaces.jumbo+" * 5)"},anchor:E.a.absoluteFillObject,mask:Object.assign({},E.a.absoluteFillObject,{position:"fixed"}),bodyRectHelper:Object.assign({},E.a.absoluteFillObject,{bottom:void 0}),content:{borderRadius:e.borderRadii.medium,position:"absolute",overflow:"hidden",backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}}})),P=function(e){var t=e.verticalPreference,n=e.canOrientUp,i=e.canOrientDown;return n&&i||!n&&!i?t:n?"up":"down"},k=function(e){var t=e.horizontalPreference,n=e.canOrientLeft,i=e.canOrientRight;return!n||"left"!==t&&i?"right":"left"},U=function(e){return I.a.isRTL?"left"===e?"right":"left":e},H=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,d()(a()(i),"_handleAnimateComplete",(function(){var e=i.props.onAnimateComplete;e&&e()})),d()(a()(i),"_handleEsc",(function(e){var t=i.props.onDismiss,n=e.altKey,o=e.ctrlKey,r=e.metaKey,a=e.key;!(n||o||r)&&"Escape"===a&&t()})),d()(a()(i),"_receiveBodyRectHelperRef",(function(e){var t=O.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._bodyRectHelperNode=t),i._scheduleUpdate()})),d()(a()(i),"_receiveAnchorRef",(function(e){var t=O.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._anchorNode=t),i._scheduleUpdate()})),d()(a()(i),"_receiveContentRef",(function(e){var t=O.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._contentNode=t),i._scheduleUpdate()})),d()(a()(i),"_updatePosition",(function(){if(i._mounted&&(i._anchorNode||i.props.position)&&i._contentNode&&i._contentNode instanceof window.HTMLElement&&i._bodyRectHelperNode&&i._bodyRectHelperNode instanceof window.HTMLElement){var e=i._contentNode.scrollHeight,t=i._contentNode.scrollWidth,n=i._bodyRectHelperNode.getBoundingClientRect(),o=n.left,r=n.top,a=n.width,s=R.a.get("window"),c=s.width,l=s.height,d={left:0,top:0,height:0,width:0};i.props.position?d=Object.assign({},d,{},i.props.position):i._anchorNode&&i._anchorNode instanceof window.HTMLElement&&(d=i._anchorNode.getBoundingClientRect());var u=d,f=u.left,p=u.top,h=u.height,m=u.width,_=c-a,v=f-o,b=p-r,y=f+m>=t,g=p+h>=e,O=c-f>=t,w=l-p>=e,E=i.props.preferredVerticalOrientation,N=U(i.props.preferredHorizontalOrientation),T=i.state.verticalOrientation||P({verticalPreference:E,canOrientUp:g,canOrientDown:w}),I=i.state.horizontalOrientation||k({horizontalPreference:N,canOrientLeft:y,canOrientRight:O}),S=i.props.isFixed?f:v,L=i.props.isFixed?p:b,x="up"===T?L+h-e:L,j="left"===I?c-S-m-_:c-S-t-_;i.setState({top:Math.max(x,0),right:j,verticalOrientation:T,horizontalOrientation:I})}})),i.state=Object.freeze({}),i._scheduleUpdate=Object(h.a)(i._updatePosition,window.requestAnimationFrame),i._scheduleDebouncedUpdate=Object(m.a)(i._scheduleUpdate,250),i}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._mounted=!0,R.a.addEventListener("change",this._scheduleDebouncedUpdate)},n.componentWillUnmount=function(){this._mounted=!1,R.a.removeEventListener("change",this._scheduleDebouncedUpdate)},n.render=function(){var e=this,t=this.props,n=t.children,i=t.isFixed,r=t.onDismiss,a=t.animateInDuration,s=t.animateType,c=t.withKeyboardNavigation,l=this.state,d=l.top,u=l.right,h=l.verticalOrientation,m=void 0===d,g="calc(100vh - "+(d||0)+"px)",O=[j.content,m&&j.contentInitialRender,i&&[j.contentFixed,{maxHeight:g}],{top:d,right:I.a.isRTL?void 0:u,left:I.a.isRTL?u:void 0}];return f.a.createElement(L.a,{ref:this._receiveAnchorRef,style:j.anchor,__source:{fileName:x,lineNumber:173},__self:this},f.a.createElement(y.a.Dropdown,{__source:{fileName:x,lineNumber:174},__self:this},f.a.createElement(v.a,{onDismiss:r,__source:{fileName:x,lineNumber:175},__self:this},f.a.createElement(_.a,{withKeyboardNavigation:c,__source:{fileName:x,lineNumber:176},__self:this},f.a.createElement(L.a,{onClick:r,style:j.mask,__source:{fileName:x,lineNumber:177},__self:this}),f.a.createElement(L.a,{ref:this._receiveBodyRectHelperRef,style:j.bodyRectHelper,__source:{fileName:x,lineNumber:178},__self:this}),f.a.createElement(w.a,{__source:{fileName:x,lineNumber:179},__self:this},(function(t){var i=t.windowWidth;return f.a.createElement(L.a,{accessibilityRole:"menu",onKeyUp:e._handleEsc,ref:e._receiveContentRef,style:[i<E.a.theme.breakpoints.medium?j.rootNarrow:j.rootWide,O],__source:{fileName:x,lineNumber:181},__self:this},m&&"slide"===s?n:f.a.createElement(p.b,{animateMount:"up"!==h,duration:a,onAnimateComplete:e._handleAnimateComplete,show:!0,type:s,__source:{fileName:x,lineNumber:195},__self:this},(function(e){var t=e.isAnimating;return f.a.createElement(b.a,{disableReporting:t,__source:{fileName:x,lineNumber:203},__self:this},(function(e,t){return f.a.createElement(L.a,o()({ref:e()},t({}),{__source:{fileName:x,lineNumber:205},__self:this}),n)}))})))}))))))},t}(f.a.Component);d()(H,"defaultProps",{preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0});t.default=H},uo3S:function(e,t,n){"use strict";n.r(t);var i=n("RIqP"),o=n.n(i),r=n("oEGd"),a=n("peh1"),s=n("Olyj"),c=n("XOJV"),l=n("kElg"),d=Object(a.createSelector)((function(e){return c.a.selectAll(e)}),(function(e,t){return t.focalTweetId}),(function(e,t){var n=t&&e[t];if(!n)return[];var i=[n.user].concat(o()(u(n)),o()(f(n))),r=n.quoted_status&&e[n.quoted_status];return r&&(i.push(r.user),i.push.apply(i,o()(u(r)))),Object(l.a)(i)})),u=function(e){var t=e.entities.user_mentions;return(void 0===t?[]:t).map((function(e){return e.id_str}))},f=function(e){return Object(s.a)(e.extended_entities&&e.extended_entities.media||[]).map((function(e){return e.user_id}))},p=Object(a.createSelector)(d,(function(e){return{participantIds:e}})),h=Object(r.b)(p),m=n("q1tI"),_=n("YryT"),v=n.n(_),b=n("TcpU"),y=n("hqDb"),g=n("Epja"),O=n.n(g),w=v.a.c915c2d0,E=function(e){var t=e.maxCount,n=e.participantIds;return m.createElement(O.a,{accessibilityLabel:w,accessibilityRole:"complementary"},m.createElement(b.a,{text:w}),m.createElement(y.a,{userIds:n.slice(0,t),withFinalItemBorder:!1,withItemBorder:!0}))};E.defaultProps={maxCount:3};var N=E;t.default=h(N)}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.WideLayout.f7897504.js.map